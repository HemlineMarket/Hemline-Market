<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<meta http-equiv="Cache-Control" content="no-store, max-age=0"/>
<title>Hemline Market — Catalog V2 (Clean)</title>
<style>
:root{--ink:#111;--muted:#666;--line:#eaeaea;--bg:#fff;--pill:#111}
*{box-sizing:border-box}
body{margin:0;background:#fff;color:var(--ink);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,sans-serif}

/* header */
header{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--line)}
.nav{max-width:1200px;margin:0 auto;display:flex;gap:16px;align-items:center;padding:12px 20px}
.logo{font-weight:800;text-decoration:none;color:#111}
.badge{margin-left:6px;padding:4px 8px;border-radius:999px;background:#111;color:#fff;font-size:.8rem}
.search{flex:1;min-width:200px}
.search input{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:999px}
.pills{display:flex;gap:10px}
.pills a{padding:8px 12px;border:1px solid var(--line);border-radius:999px;text-decoration:none;color:#111;background:#fff}
.pills a:hover{background:#f7f7f7}
.pills .cta{background:#111;color:#fff;border-color:#111}

/* filters */
.filters{max-width:1200px;margin:0 auto;padding:16px 20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;border-bottom:1px solid var(--line)}
.filters label{display:block;font-size:.9rem;font-weight:600;margin:0 0 6px}
.filters select,.filters input{width:100%;padding:8px 10px;border:1px solid #ccc;border-radius:8px;background:#fff}
.actions{max-width:1200px;margin:8px auto 0;padding:0 20px 10px;display:flex;gap:12px}
.btn{padding:10px 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
.btn.secondary{background:#fff;color:#111;border-color:#ccc}

/* grid */
#catalog-status{max-width:1200px;margin:12px auto 0;padding:0 20px;color:#555}
.grid{max-width:1200px;margin:8px auto 32px;padding:0 20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:22px}
.card{border:1px solid var(--line);border-radius:12px;padding:14px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.03)}
.thumb{height:148px;border-radius:8px;margin-bottom:10px;background:repeating-linear-gradient(135deg,#f8f8f8,#f8f8f8 12px,#f1f1f1 12px,#f1f1f1 24px)}
.title{margin:0 0 6px;font-size:1rem}
.meta{margin:0 0 6px;color:#555;font-size:.92rem}
.muted{color:var(--muted);font-size:.9rem}
.price{margin:6px 0 0;font-weight:700}
</style>
</head>
<body>

<header>
  <div class="nav">
    <a href="index.html" class="logo">hemlinemarket</a>
    <span class="badge">CATALOG V2</span>
    <div class="search"><input type="search" id="q" placeholder="Search fabrics…"></div>
    <nav class="pills" aria-label="Primary">
      <a href="catalog-v2.html">Browse</a>
      <a href="likes.html">Likes</a>
      <a href="atelier.html">Atelier Stash</a>
      <a href="news.html">News</a>
      <a href="profile.html">Profile</a>
      <a class="cta" href="list.html">List an item</a>
    </nav>
  </div>
</header>

<!-- CLEAN FILTERS (no Stretch; no Vintage/Unknown) -->
<section class="filters" aria-label="Filters">
  <div>
    <label for="f-content">Fabric content</label>
    <select id="f-content">
      <option value="">All</option>
      <optgroup label="Natural">
        <option value="cotton">Cotton</option><option value="linen">Linen</option>
        <option value="silk">Silk</option><option value="wool">Wool</option>
        <option value="hemp">Hemp</option><option value="ramie">Ramie</option>
        <option value="cashmere">Cashmere</option><option value="alpaca">Alpaca</option>
        <option value="mohair">Mohair</option>
      </optgroup>
      <optgroup label="Man-made">
        <option value="rayon">Rayon</option><option value="viscose">Viscose</option>
        <option value="lyocell">Lyocell</option><option value="modal">Modal</option>
        <option value="tencel">Tencel</option><option value="acetate">Acetate</option>
        <option value="polyester">Polyester</option><option value="nylon">Nylon</option>
        <option value="acrylic">Acrylic</option><option value="spandex">Spandex</option>
      </optgroup>
      <option value="wool-silk">Wool-Silk</option>
    </select>
  </div>

  <div>
    <label for="f-type">Fabric type</label>
    <select id="f-type">
      <option value="">All</option>
      <option value="crepe">Crepe</option><option value="dobby">Dobby</option>
      <option value="jersey">Jersey</option><option value="satin">Satin</option>
      <option value="sateen">Sateen</option><option value="twill">Twill</option>
      <option value="chiffon">Chiffon</option><option value="georgette">Georgette</option>
      <option value="organza">Organza</option><option value="faille">Faille</option>
      <option value="taffeta">Taffeta</option><option value="brocade">Brocade</option>
      <option value="seersucker">Seersucker</option><option value="poplin">Poplin</option>
      <option value="gabardine">Gabardine</option><option value="flannel">Flannel</option>
      <option value="herringbone">Herringbone</option><option value="denim">Denim</option>
      <option value="canvas">Canvas</option><option value="velvet">Velvet</option>
      <option value="lace">Lace</option><option value="mesh">Mesh</option>
    </select>
  </div>

  <div>
    <label for="f-category">Fabric category</label>
    <select id="f-category">
      <option value="">All</option>
      <option value="natural">Natural</option>
      <option value="synthetic">Synthetic</option>
      <option value="blend">Blend</option>
    </select>
  </div>

  <div>
    <label for="f-condition">Condition</label>
    <select id="f-condition">
      <option value="">Any</option>
      <option value="new">New</option>
      <option value="like-new">Like New</option>
      <option value="used">Used</option>
    </select>
  </div>

  <div>
    <label for="f-trans">Transparency</label>
    <select id="f-trans">
      <option value="">Any</option>
      <option value="opaque">Opaque</option>
      <option value="semi-sheer">Semi-sheer</option>
      <option value="sheer">Sheer</option>
    </select>
  </div>

  <div>
    <label>Weight (gsm)</label>
    <div style="display:flex;gap:8px">
      <input id="gsm-min" type="number" placeholder="min"/>
      <input id="gsm-max" type="number" placeholder="max"/>
    </div>
  </div>

  <div>
    <label>Width (in)</label>
    <div style="display:flex;gap:8px">
      <input id="w-min" type="number" placeholder="min"/>
      <input id="w-max" type="number" placeholder="max"/>
    </div>
  </div>

  <div>
    <label>Price (USD)</label>
    <div style="display:flex;gap:8px">
      <input id="p-min" type="number" placeholder="min"/>
      <input id="p-max" type="number" placeholder="max"/>
    </div>
  </div>

  <div>
    <label for="designer">Designer</label>
    <input id="designer" type="text" placeholder="e.g. Liberty, Mood, Joann"/>
  </div>
</section>

<div class="actions">
  <button id="apply" class="btn">Apply Filters</button>
  <button id="clear" class="btn secondary">Clear Filters</button>
</div>

<p id="catalog-status">Showing 0 fabrics</p>

<section class="grid" id="grid">
  <article class="card" data-content="silk" data-type="crepe" data-category="natural" data-condition="new" data-trans="semi-sheer" data-gsm="90" data-width="54" data-price="45" data-colors="red,pink,ivory" data-designer="Liberty">
    <div class="thumb" aria-label="Silk Crepe"></div><h3 class="title">Silk Crepe</h3>
    <p class="meta">Content: Silk · Type: Crepe · Category: Natural · Condition: New</p>
    <p class="muted">Transparency: Semi-sheer · GSM: 90 · Width: 54" · Designer: Liberty</p><p class="price">$45.00 / yd</p>
  </article>
  <article class="card" data-content="wool" data-type="dobby" data-category="natural" data-condition="used" data-trans="opaque" data-gsm="240" data-width="58" data-price="60" data-colors="black,grey" data-designer="Mood">
    <div class="thumb" aria-label="Wool Dobby"></div><h3 class="title">Wool Dobby</h3>
    <p class="meta">Content: Wool · Type: Dobby · Category: Natural · Condition: Used</p>
    <p class="muted">Transparency: Opaque · GSM: 240 · Width: 58" · Designer: Mood</p><p class="price">$60.00 / yd</p>
  </article>
  <article class="card" data-content="cotton" data-type="sateen" data-category="natural" data-condition="like-new" data-trans="opaque" data-gsm="150" data-width="55" data-price="28" data-colors="white,navy" data-designer="Joann">
    <div class="thumb" aria-label="Cotton Sateen"></div><h3 class="title">Cotton Sateen</h3>
    <p class="meta">Content: Cotton · Type: Sateen · Category: Natural · Condition: Like New</p>
    <p class="muted">Transparency: Opaque · GSM: 150 · Width: 55" · Designer: Joann</p><p class="price">$28.00 / yd</p>
  </article>
  <article class="card" data-content="linen" data-type="twill" data-category="natural" data-condition="new" data-trans="opaque" data-gsm="175" data-width="55" data-price="35" data-colors="beige,tan" data-designer="Liberty">
    <div class="thumb" aria-label="Linen Twill"></div><h3 class="title">Linen Twill</h3>
    <p class="meta">Content: Linen · Type: Twill · Category: Natural · Condition: New</p>
    <p class="muted">Transparency: Opaque · GSM: 175 · Width: 55" · Designer: Liberty</p><p class="price">$35.00 / yd</p>
  </article>
  <article class="card" data-content="polyester" data-type="jersey" data-category="synthetic" data-condition="used" data-trans="opaque" data-gsm="180" data-width="60" data-price="12" data-colors="grey,black" data-designer="Mood">
    <div class="thumb" aria-label="Poly Jersey"></div><h3 class="title">Poly Jersey</h3>
    <p class="meta">Content: Polyester · Type: Jersey · Category: Synthetic · Condition: Used</p>
    <p class="muted">Transparency: Opaque · GSM: 180 · Width: 60" · Designer: Mood</p><p class="price">$12.00 / yd</p>
  </article>
  <article class="card" data-content="wool-silk" data-type="crepe" data-category="blend" data-condition="like-new" data-trans="semi-sheer" data-gsm="160" data-width="57" data-price="70" data-colors="navy,ivory" data-designer="Joann">
    <div class="thumb" aria-label="Wool-Silk Crepe Blend"></div><h3 class="title">Wool-Silk Crepe Blend</h3>
    <p class="meta">Content: Wool/Silk · Type: Crepe · Category: Blend · Condition: Like New</p>
    <p class="muted">Transparency: Semi-sheer · GSM: 160 · Width: 57" · Designer: Joann</p><p class="price">$70.00 / yd</p>
  </article>
</section>

<script>
(function(){
  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));
  const num = v => (v===''||v==null||isNaN(+v)) ? null : +v;
  function within(val,min,max){ if(val==null) return false; if(min!=null && val<min) return false; if(max!=null && val>max) return false; return true; }

  function matches(card, q){
    const c = card.dataset.content || '';
    const t = card.dataset.type || '';
    const cat = card.dataset.category || '';
    const cond = card.dataset.condition || '';
    const tr = card.dataset.trans || '';

    if (q.content && q.content!==c) return false;
    if (q.type && q.type!==t) return false;
    if (q.category && q.category!==cat) return false;
    if (q.condition && q.condition!==cond) return false;
    if (q.trans && q.trans!==tr) return false;

    if (q.designer){
      const d = (card.dataset.designer||'').toLowerCase();
      if (!d.includes(q.designer)) return false;
    }

    if ((q.gsmMin!=null || q.gsmMax!=null) && !within(+card.dataset.gsm, q.gsmMin, q.gsmMax)) return false;
    if ((q.wMin!=null || q.wMax!=null) && !within(+card.dataset.width, q.wMin, q.wMax)) return false;
    if ((q.pMin!=null || q.pMax!=null) && !within(+card.dataset.price, q.pMin, q.pMax)) return false;

    if (q.search){
      const blob = (card.textContent||'').toLowerCase();
      if (!blob.includes(q.search)) return false;
    }
    return true;
  }

  function readQuery(){
    return {
      search: ($('#q')?.value||'').trim().toLowerCase(),
      content: $('#f-content').value,
      type: $('#f-type').value,
      category: $('#f-category').value,
      condition: $('#f-condition').value,
      trans: $('#f-trans').value,
      gsmMin: num($('#gsm-min').value),
      gsmMax: num($('#gsm-max').value),
      wMin: num($('#w-min').value),
      wMax: num($('#w-max').value),
      pMin: num($('#p-min').value),
      pMax: num($('#p-max').value),
      designer: ($('#designer')?.value||'').trim().toLowerCase()
    };
  }

  function apply(){
    const q = readQuery();
    let shown = 0;
    $$('.card').forEach(card=>{
      const show = matches(card, q);
      card.style.display = show ? 'block' : 'none';
      if (show) shown++;
    });
    document.getElementById('catalog-status').textContent =
      shown ? `Showing ${shown} fabric${shown>1?'s':''}` : 'No fabrics match these filters';
  }

  function clearAll(){
    ['#f-content','#f-type','#f-category','#f-condition','#f-trans'].forEach(s=>document.querySelector(s).value='');
    ['#gsm-min','#gsm-max','#w-min','#w-max','#p-min','#p-max','#designer','#q'].forEach(s=>{
      const el=document.querySelector(s); if(el) el.value='';
    });
    apply();
  }

  ['#q','#f-content','#f-type','#f-category','#f-condition','#f-trans','#gsm-min','#gsm-max','#w-min','#w-max','#p-min','#p-max','#designer']
    .forEach(sel=>{
      const el=document.querySelector(sel); if(!el) return;
      el.addEventListener('change', apply);
      if (el.tagName==='INPUT') el.addEventListener('keyup', e=>{ if(e.key==='Enter') apply(); });
    });
  document.getElementById('apply').addEventListener('click', apply);
  document.getElementById('clear').addEventListener('click', clearAll);

  apply();
})();
</script>
</body>
</html>
