<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hemline Market — Catalog</title>
  <link rel="stylesheet" href="components.css" />
  <style>
    :root{--ink:#0f172a;--muted:#6b7280;--chip:#f3f4f6;--chipb:#e5e7eb;--bg:#ffffff;--accent:#0b132b}
    body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
         background:var(--bg); color:var(--ink); margin:0}
    .container{max-width:1100px;margin:0 auto;padding:20px}
    header{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:16px}
    header .brand{font-weight:800;letter-spacing:0.2px}
    header .pill{padding:6px 10px;border-radius:999px;background:#f5f7fb;font-size:12px}
    nav{margin-left:auto;display:flex;gap:10px;flex-wrap:wrap}
    nav a{background:#fff;border:1px solid #e5e7eb;border-radius:999px;padding:6px 10px;
          text-decoration:none;color:var(--ink);font-size:12px}
    .searchbar{display:flex;gap:10px;align-items:center;margin:10px 0 20px}
    .searchbar input{flex:1;border:1px solid #e5e7eb;border-radius:999px;padding:10px 14px}
    .filters{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px}
    .filters .row{display:flex;flex-direction:column;gap:6px}
    .filters select,.filters input{border:1px solid #e5e7eb;border-radius:10px;padding:10px}
    .actions{display:flex;gap:12px;align-items:center;margin:14px 0}
    .btn{background:#0f172a;color:#fff;border:none;border-radius:12px;padding:10px 16px;cursor:pointer}
    .btn.secondary{background:#fff;color:var(--ink);border:1px solid #e5e7eb}
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:18px;margin-top:10px}
    .card{border:1px solid #e5e7eb;border-radius:16px;padding:14px;background:#fff}
    .thumb{height:150px;border-radius:12px;background:linear-gradient(135deg,#f3f4f6,#e5e7eb);
           display:flex;align-items:center;justify-content:center;color:#9ca3af;font-size:12px}
    .title{margin:10px 0 4px;font-weight:700}
    .price{font-weight:700}
    .meta{font-size:12px;color:#6b7280;line-height:1.45}
    .status{margin:14px 0 6px;color:#6b7280;font-size:12px}
    @media (max-width:960px){.filters{grid-template-columns:repeat(2,minmax(0,1fr))}.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header>
      <div class="brand">hemline<strong>market</strong></div>
      <span class="pill">CATALOG V2</span>
      <nav>
        <a href="likes.html">Likes</a>
        <a href="atelier.html">My Atelier</a>
        <a href="new.html">New Arrivals</a>
        <a href="profile.html">Profile</a>
        <a href="list.html" style="background:#0f172a;color:#fff">List an item</a>
      </nav>
    </header>

    <!-- Search -->
    <div class="searchbar">
      <input id="q" type="search" placeholder="Search fabrics… e.g. silk crepe, red, Liberty" />
    </div>

    <!-- Filters (core only) -->
    <div class="filters" id="filters">
      <div class="row">
        <label>Fabric content</label>
        <select id="f-content">
          <option value="">All</option>
          <option>Cotton</option><option>Linen</option><option>Silk</option><option>Wool</option>
          <option>Hemp</option><option>Rayon</option><option>Viscose</option><option>Lyocell</option>
          <option>Modal</option><option>Tencel</option><option>Acetate</option><option>Triacetate</option>
          <option>Polyester</option><option>Nylon</option><option>Acrylic</option>
          <option>Spandex</option><option>Elastane</option>
        </select>
      </div>

      <div class="row">
        <label>Fabric type</label>
        <select id="f-type">
          <option value="">All</option>
          <option>Broadcloth</option><option>Canvas</option><option>Challis</option><option>Charmeuse</option>
          <option>Chiffon</option><option>Crepe</option><option>Dobby</option><option>Gabardine</option>
          <option>Jersey</option><option>Lawn</option><option>Oxford</option><option>Poplin</option>
          <option>Sateen</option><option>Satin</option><option>Twill</option><option>Velvet</option>
        </select>
      </div>

      <div class="row">
        <label>Fabric category</label>
        <select id="f-category">
          <option value="">All</option>
          <option>Natural</option><option>Synthetic</option><option>Blend</option>
        </select>
      </div>

      <div class="row">
        <label>Condition</label>
        <select id="f-condition">
          <option value="">Any</option>
          <option>New</option><option>Like New</option><option>Used</option><option>Unknown</option>
        </select>
      </div>

      <div class="row">
        <label>Transparency</label>
        <select id="f-transparency">
          <option value="">Any</option>
          <option>Opaque</option><option>Mostly opaque</option>
          <option>Semi-sheer</option><option>Mostly sheer</option><option>Sheer</option>
        </select>
      </div>

      <div class="row">
        <label>Weight (gsm)</label>
        <div style="display:flex;gap:8px">
          <input id="gsm-min" type="number" placeholder="min" />
          <input id="gsm-max" type="number" placeholder="max" />
        </div>
      </div>

      <div class="row">
        <label>Width (in)</label>
        <div style="display:flex;gap:8px">
          <input id="w-min" type="number" placeholder="min" />
          <input id="w-max" type="number" placeholder="max" />
        </div>
      </div>

      <div class="row">
        <label>Price (USD)</label>
        <div style="display:flex;gap:8px">
          <input id="p-min" type="number" placeholder="min" />
          <input id="p-max" type="number" placeholder="max" />
        </div>
      </div>

      <div class="row">
        <label>Country of origin</label>
        <select id="f-origin">
          <option value="">Any</option>
          <option>USA</option><option>Italy</option><option>France</option><option>Japan</option><option>China</option><option>Turkey</option>
        </select>
      </div>

      <div class="row">
        <label>Designer</label>
        <input id="f-designer" placeholder="e.g. Liberty, Mood, Joann" />
      </div>
    </div>

    <div class="actions">
      <button class="btn" id="apply">Apply Filters</button>
      <button class="btn secondary" id="clear">Clear Filters</button>
      <span class="status" id="status"></span>
    </div>

    <!-- Results grid (sample data with data- attributes) -->
    <div class="grid" id="grid">

      <article class="card"
        data-content="Silk"
        data-type="Crepe"
        data-category="Natural"
        data-condition="New"
        data-transparency="Semi-sheer"
        data-gsm="90"
        data-width="54"
        data-price="45"
        data-origin="China"
        data-designer="Liberty">
        <div class="thumb">No image</div>
        <div class="title">Silk Crepe</div>
        <div class="meta">Content: Silk · Type: Crepe · Category: Natural · Condition: New</div>
        <div class="meta">Transparency: Semi-sheer · GSM: 90 · Width: 54" · Designer: Liberty · Origin: China</div>
        <div class="price">$45.00 / yd</div>
      </article>

      <article class="card"
        data-content="Wool"
        data-type="Dobby"
        data-category="Natural"
        data-condition="Used"
        data-transparency="Opaque"
        data-gsm="240"
        data-width="58"
        data-price="60"
        data-origin="Italy"
        data-designer="Mood">
        <div class="thumb">No image</div>
        <div class="title">Wool Dobby</div>
        <div class="meta">Content: Wool · Type: Dobby · Category: Natural · Condition: Used</div>
        <div class="meta">Transparency: Opaque · GSM: 240 · Width: 58" · Designer: Mood · Origin: Italy</div>
        <div class="price">$60.00 / yd</div>
      </article>

      <article class="card"
        data-content="Cotton"
        data-type="Sateen"
        data-category="Natural"
        data-condition="Like New"
        data-transparency="Mostly opaque"
        data-gsm="150"
        data-width="55"
        data-price="28"
        data-origin="Japan"
        data-designer="Joann">
        <div class="thumb">No image</div>
        <div class="title">Cotton Sateen</div>
        <div class="meta">Content: Cotton · Type: Sateen · Category: Natural · Condition: Like New</div>
        <div class="meta">Transparency: Mostly opaque · GSM: 150 · Width: 55" · Designer: Joann · Origin: Japan</div>
        <div class="price">$28.00 / yd</div>
      </article>

      <article class="card"
        data-content="Linen"
        data-type="Twill"
        data-category="Natural"
        data-condition="New"
        data-transparency="Mostly opaque"
        data-gsm="175"
        data-width="55"
        data-price="35"
        data-origin="Turkey"
        data-designer="Liberty">
        <div class="thumb">No image</div>
        <div class="title">Linen Twill</div>
        <div class="meta">Content: Linen · Type: Twill · Category: Natural · Condition: New</div>
        <div class="meta">Transparency: Mostly opaque · GSM: 175 · Width: 55" · Designer: Liberty · Origin: Turkey</div>
        <div class="price">$35.00 / yd</div>
      </article>

      <article class="card"
        data-content="Polyester"
        data-type="Jersey"
        data-category="Synthetic"
        data-condition="Used"
        data-transparency="Opaque"
        data-gsm="180"
        data-width="60"
        data-price="12"
        data-origin="USA"
        data-designer="Mood">
        <div class="thumb">No image</div>
        <div class="title">Poly Jersey</div>
        <div class="meta">Content: Polyester · Type: Jersey · Category: Synthetic · Condition: Used</div>
        <div class="meta">Transparency: Opaque · GSM: 180 · Width: 60" · Designer: Mood · Origin: USA</div>
        <div class="price">$12.00 / yd</div>
      </article>

      <article class="card"
        data-content="Wool-Silk"
        data-type="Crepe"
        data-category="Blend"
        data-condition="Like New"
        data-transparency="Mostly sheer"
        data-gsm="160"
        data-width="57"
        data-price="70"
        data-origin="France"
        data-designer="Joann">
        <div class="thumb">No image</div>
        <div class="title">Wool-Silk Crepe Blend</div>
        <div class="meta">Content: Wool/Silk · Type: Crepe · Category: Blend · Condition: Like New</div>
        <div class="meta">Transparency: Mostly sheer · GSM: 160 · Width: 57" · Designer: Joann · Origin: France</div>
        <div class="price">$70.00 / yd</div>
      </article>

    </div>
  </div>

  <script>
    // --- Helper: normalize synonyms for content search (spandex/elastane)
    function normalizeContent(v){
      if(!v) return '';
      const s = v.toLowerCase();
      if(s.includes('elastane')) return 'spandex';
      return s;
    }

    function inRange(val, min, max){
      if(val===''||val==null) return true;
      const n = Number(val);
      if(!Number.isFinite(n)) return true;
      if(min!=='' && Number(val) < Number(min)) return false;
      if(max!=='' && Number(val) > Number(max)) return false;
      return true;
    }

    function apply(){
      const q = document.getElementById('q').value.trim().toLowerCase();
      const fContent = document.getElementById('f-content').value;
      const fType = document.getElementById('f-type').value;
      const fCat = document.getElementById('f-category').value;
      const fCond = document.getElementById('f-condition').value;
      const fTrans = document.getElementById('f-transparency').value;

      const gsmMin = document.getElementById('gsm-min').value;
      const gsmMax = document.getElementById('gsm-max').value;
      const wMin = document.getElementById('w-min').value;
      const wMax = document.getElementById('w-max').value;
      const pMin = document.getElementById('p-min').value;
      const pMax = document.getElementById('p-max').value;

      const origin = document.getElementById('f-origin').value.toLowerCase();
      const designer = document.getElementById('f-designer').value.trim().toLowerCase();

      let shown = 0;
      document.querySelectorAll('#grid .card').forEach(card=>{
        const d = (k)=> (card.dataset[k]||'').toString();
        const content = normalizeContent(d('content'));
        const type = d('type');
        const category = d('category');
        const cond = d('condition');
        const trans = d('transparency');
        const gsm = d('gsm');
        const width = d('width');
        const price = d('price');
        const org = d('origin').toLowerCase();
        const des = d('designer').toLowerCase();

        const textBlob = (card.textContent||'').toLowerCase();

        const pass =
          (!fContent || content.toLowerCase()===normalizeContent(fContent)) &&
          (!fType || type===fType) &&
          (!fCat || category===fCat) &&
          (!fCond || cond===fCond) &&
          (!fTrans || trans===fTrans) &&
          inRange(gsm, gsmMin, gsmMax) &&
          inRange(width, wMin, wMax) &&
          inRange(price, pMin, pMax) &&
          (!origin || org.includes(origin)) &&
          (!designer || des.includes(designer)) &&
          (!q || textBlob.includes(q));

        card.style.display = pass ? 'block' : 'none';
        if(pass) shown++;
      });

      const status = document.getElementById('status');
      if(status) status.textContent = shown ? `Showing ${shown} fabrics` : 'No fabrics match these filters';
    }

    function clearAll(){
      document.querySelectorAll('#filters select').forEach(s=>s.value='');
      ['gsm-min','gsm-max','w-min','w-max','p-min','p-max','q','f-designer']
        .forEach(id=>{ const el=document.getElementById(id); if(el) el.value=''; });
      apply();
    }

    document.getElementById('apply').addEventListener('click', apply);
    document.getElementById('clear').addEventListener('click', clearAll);
    document.getElementById('q').addEventListener('input', e=>{
      // lightweight live search
      apply();
    });

    // Initialize once DOM ready
    document.addEventListener('DOMContentLoaded', ()=>{
      // Alphabetize content & type for easier scanning
      const alpha = (sel)=>{
        const el = document.getElementById(sel);
        if(!el) return;
        const opts = Array.from(el.options);
        const head = opts.shift(); // keep "All" on top
        opts.sort((a,b)=>a.text.localeCompare(b.text));
        el.replaceChildren(head, ...opts);
      };
      alpha('f-content');
      alpha('f-type');
      apply();
    });
  </script>
</body>
</html>
