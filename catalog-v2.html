<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<meta http-equiv="Cache-Control" content="no-store, max-age=0"/>
<title>Hemline Market — Catalog V2</title>
<style>
:root{
  --ink:#111;--muted:#667085;--line:#eaeaea;--bg:#fff;
  --chip:#f6f6f6;--chip-b:#dcdcdc;--brand:#111;
  --nat:#0ea5e9;--syn:#a855f7;--blend:#22c55e;
  --cond-new:#16a34a;--cond-used:#9ca3af;--cond-like:#0891b2;
}
*{box-sizing:border-box} body{margin:0;background:#fff;color:var(--ink);font:16px/1.45 system-ui,-apple-system,Segoe UI,Inter,Roboto,sans-serif}

/* header */
header{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--line)}
.nav{max-width:1200px;margin:0 auto;display:flex;gap:16px;align-items:center;padding:12px 20px}
.logo{font-weight:800;text-decoration:none;color:#111}
.badge{margin-left:6px;padding:4px 8px;border-radius:999px;background:#111;color:#fff;font-size:.8rem}
.search{flex:1;min-width:220px}
.search input{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:999px}
.pills{display:flex;gap:10px}
.pills a{padding:8px 12px;border:1px solid var(--line);border-radius:999px;text-decoration:none;color:#111;background:#fff}
.pills a:hover{background:#f7f7f7}
.pills .cta{background:#111;color:#fff;border-color:#111}

/* filters */
.filters{max-width:1200px;margin:0 auto;padding:16px 20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;border-bottom:1px solid var(--line)}
.filters label{display:block;font-size:.9rem;font-weight:600;margin:0 0 6px}
.filters select,.filters input{width:100%;padding:8px 10px;border:1px solid #ccc;border-radius:8px;background:#fff}
.actions{max-width:1200px;margin:8px auto 0;padding:0 20px 10px;display:flex;gap:12px}
.btn{padding:10px 14px;border-radius:10px;border:1px solid #111;background:#111;color:#fff;cursor:pointer}
.btn.secondary{background:#fff;color:#111;border-color:#ccc}

/* grid */
#catalog-status{max-width:1200px;margin:12px auto 0;padding:0 20px;color:var(--muted)}
.grid{max-width:1200px;margin:8px auto 32px;padding:0 20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:22px}
.card{border:1px solid var(--line);border-radius:14px;padding:12px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.03);transition:transform .12s ease, box-shadow .12s ease}
.card:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,0,0,.06)}
.thumb{height:148px;border-radius:10px;margin-bottom:10px;background:repeating-linear-gradient(135deg,#f8f8f8,#f8f8f8 12px,#f1f1f1 12px,#f1f1f1 24px)}
.title{margin:0 0 6px;font-weight:700}
.row{display:flex;flex-wrap:wrap;gap:6px;margin:4px 0 6px}
.chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--chip-b);background:var(--chip);border-radius:999px;font-size:.82rem}
.chip b{font-weight:700}
.cat-natural{border-color:color-mix(in srgb,var(--nat) 50%, #ddd);background:color-mix(in srgb,var(--nat) 12%, #f9fafb);color:#0b7db2}
.cat-synthetic{border-color:color-mix(in srgb,var(--syn) 50%, #ddd);background:color-mix(in srgb,var(--syn) 12%, #f9fafb);color:#6b21a8}
.cat-blend{border-color:color-mix(in srgb,var(--blend) 55%, #ddd);background:color-mix(in srgb,var(--blend) 14%, #f9fafb);color:#166534}
.cond-new{color:#0f6a2b}
.cond-like-new{color:#0a5466}
.cond-used{color:#52525b}
.meta{margin:0;color:#3f3f46;font-size:.9rem}
.meta .dot{letter-spacing:.3em}
.price{margin:8px 0 0;font-weight:800}
</style>
</head>
<body>

<header>
  <div class="nav">
    <a href="index.html" class="logo">hemlinemarket</a>
    <span class="badge">CATALOG V2</span>
    <div class="search"><input type="search" id="q" placeholder="Search fabrics…"></div>
    <nav class="pills" aria-label="Primary">
      <a href="likes.html">Likes</a>
      <a href="atelier.html">My Atelier</a>
      <a href="news.html">News</a>
      <a href="profile.html">Profile</a>
      <a class="cta" href="list.html">List an item</a>
    </nav>
  </div>
</header>

<!-- Filters -->
<section class="filters" aria-label="Filters">
  <div>
    <label for="f-content">Fabric content</label>
    <select id="f-content">
      <option value="">All</option>
      <option value="cotton">Cotton</option><option value="linen">Linen</option>
      <option value="silk">Silk</option><option value="wool">Wool</option>
      <option value="hemp">Hemp</option><option value="ramie">Ramie</option>
      <option value="cashmere">Cashmere</option><option value="alpaca">Alpaca</option>
      <option value="mohair">Mohair</option><option value="rayon">Rayon</option>
      <option value="viscose">Viscose</option><option value="lyocell">Lyocell</option>
      <option value="modal">Modal</option><option value="tencel">Tencel</option>
      <option value="acetate">Acetate</option><option value="triacetate">Triacetate</option>
      <option value="cupro">Cupro</option><option value="polyester">Polyester</option>
      <option value="nylon">Nylon</option><option value="polyamide">Polyamide</option>
      <option value="acrylic">Acrylic</option><option value="spandex">Spandex</option>
    </select>
  </div>

  <div>
    <label for="f-type">Fabric type</label>
    <select id="f-type">
      <option value="">All</option>
      <option value="crepe">Crepe</option><option value="dobby">Dobby</option>
      <option value="jersey">Jersey</option><option value="satin">Satin</option>
      <option value="sateen">Sateen</option><option value="twill">Twill</option>
      <option value="chiffon">Chiffon</option><option value="georgette">Georgette</option>
      <option value="organza">Organza</option><option value="faille">Faille</option>
      <option value="taffeta">Taffeta</option><option value="brocade">Brocade</option>
      <option value="seersucker">Seersucker</option><option value="poplin">Poplin</option>
      <option value="gabardine">Gabardine</option><option value="flannel">Flannel</option>
      <option value="herringbone">Herringbone</option><option value="denim">Denim</option>
      <option value="canvas">Canvas</option><option value="velvet">Velvet</option>
      <option value="lace">Lace</option><option value="mesh">Mesh</option>
    </select>
  </div>

  <div>
    <label for="f-category">Fabric category</label>
    <select id="f-category">
      <option value="">All</option>
      <option value="natural">Natural</option>
      <option value="synthetic">Synthetic</option>
      <option value="blend">Blend</option>
    </select>
  </div>

  <div>
    <label for="f-condition">Condition</label>
    <select id="f-condition">
      <option value="">Any</option>
      <option value="new">New</option>
      <option value="like-new">Like New</option>
      <option value="used">Used</option>
    </select>
  </div>

  <div>
    <label for="f-trans">Transparency</label>
    <select id="f-trans">
      <option value="">Any</option>
      <option value="opaque">Opaque</option>
      <option value="mostly-opaque">Mostly opaque</option>
      <option value="semi-sheer">Semi-sheer</option>
      <option value="mostly-sheer">Mostly sheer</option>
      <option value="sheer">Sheer</option>
      <option value="unknown">Unknown</option>
    </select>
  </div>

  <!-- NEW: Drape -->
  <div>
    <label for="f-drape">Drape</label>
    <select id="f-drape">
      <option value="">Any</option>
      <option value="stiff">Stiff (holds shape)</option>
      <option value="structured">Structured</option>
      <option value="balanced">Balanced</option>
      <option value="fluid">Fluid</option>
      <option value="ultra-fluid">Ultra-fluid</option>
    </select>
  </div>

  <!-- NEW: Structure/Body -->
  <div>
    <label for="f-structure">Structure</label>
    <select id="f-structure">
      <option value="">Any</option>
      <option value="soft">Soft</option>
      <option value="medium">Medium</option>
      <option value="firm">Firm</option>
      <option value="crisp">Crisp</option>
    </select>
  </div>

  <!-- NEW: Use-case recommender -->
  <div>
    <label for="f-uses">Recommended for</label>
    <select id="f-uses">
      <option value="">Any</option>
      <option value="flowy-skirt">Flowy skirt</option>
      <option value="pleated-skirt">Pleated skirt</option>
      <option value="dress">Dress</option>
      <option value="blazer">Blazer/Jacket</option>
      <option value="trouser">Trouser</option>
      <option value="top">Top/Blouse</option>
      <option value="underwear">Underwear/Lingerie</option>
      <option value="activewear">Activewear</option>
      <option value="bag">Bag/Accessories</option>
    </select>
  </div>

  <div>
    <label>Weight (gsm)</label>
    <div style="display:flex;gap:8px"><input id="gsm-min" type="number" placeholder="min"/>
      <input id="gsm-max" type="number" placeholder="max"/></div>
  </div>

  <div>
    <label>Width (in)</label>
    <div style="display:flex;gap:8px"><input id="w-min" type="number" placeholder="min"/>
      <input id="w-max" type="number" placeholder="max"/></div>
  </div>

  <div>
    <label>Price (USD)</label>
    <div style="display:flex;gap:8px"><input id="p-min" type="number" placeholder="min"/>
      <input id="p-max" type="number" placeholder="max"/></div>
  </div>

  <div>
    <label for="designer">Designer</label>
    <input id="designer" type="text" placeholder="e.g. Liberty, Mood, Joann"/>
  </div>

  <div>
    <label for="country">Country of origin</label>
    <select id="country">
      <option value="">Any</option>
      <option value="china">China</option><option value="italy">Italy</option>
      <option value="japan">Japan</option><option value="india">India</option>
      <option value="usa">USA</option><option value="uk">UK</option>
      <option value="france">France</option><option value="south-korea">South Korea</option>
      <option value="turkey">Turkey</option>
    </select>
  </div>
</section>

<div class="actions">
  <button id="apply" class="btn">Apply Filters</button>
  <button id="clear" class="btn secondary">Clear Filters</button>
</div>

<p id="catalog-status">Showing 0 fabrics</p>

<section class="grid" id="grid">
  <!-- Cards now include data-drape, data-structure, data-uses (CSV) -->
  <article class="card"
    data-content="silk" data-type="crepe" data-category="natural"
    data-condition="new" data-trans="semi-sheer"
    data-drape="fluid" data-structure="soft" data-uses="flowy-skirt,dress,top"
    data-gsm="90" data-width="54" data-price="45"
    data-colors="red,pink,ivory" data-designer="Liberty" data-country="china">
    <div class="thumb" aria-label="Silk Crepe"></div>
    <h3 class="title">Silk Crepe</h3>
    <div class="row">
      <span class="chip"><b>Silk</b></span><span class="chip">Crepe</span>
      <span class="chip cat-natural">Natural</span><span class="chip cond-new">New</span>
      <span class="chip">Fluid drape</span><span class="chip">Soft body</span>
    </div>
    <p class="meta"><span class="dot">•</span> Semi-sheer <span class="dot">•</span> GSM 90 <span class="dot">•</span> 54" <span class="dot">•</span> Liberty · China</p>
    <p class="price">$45.00 / yd</p>
  </article>

  <article class="card"
    data-content="wool" data-type="dobby" data-category="natural"
    data-condition="used" data-trans="opaque"
    data-drape="balanced" data-structure="firm" data-uses="blazer,trouser,skirt"
    data-gsm="240" data-width="58" data-price="60"
    data-colors="black,grey" data-designer="Mood" data-country="italy">
    <div class="thumb" aria-label="Wool Dobby"></div>
    <h3 class="title">Wool Dobby</h3>
    <div class="row">
      <span class="chip"><b>Wool</b></span><span class="chip">Dobby</span>
      <span class="chip cat-natural">Natural</span><span class="chip cond-used">Used</span>
      <span class="chip">Balanced drape</span><span class="chip">Firm body</span>
    </div>
    <p class="meta"><span class="dot">•</span> Opaque <span class="dot">•</span> GSM 240 <span class="dot">•</span> 58" <span class="dot">•</span> Mood · Italy</p>
    <p class="price">$60.00 / yd</p>
  </article>

  <article class="card"
    data-content="cotton" data-type="sateen" data-category="natural"
    data-condition="like-new" data-trans="mostly-opaque"
    data-drape="balanced" data-structure="medium" data-uses="dress,skirt,top"
    data-gsm="150" data-width="55" data-price="28"
    data-colors="white,navy" data-designer="Joann" data-country="japan">
    <div class="thumb" aria-label="Cotton Sateen"></div>
    <h3 class="title">Cotton Sateen</h3>
    <div class="row">
      <span class="chip"><b>Cotton</b></span><span class="chip">Sateen</span>
      <span class="chip cat-natural">Natural</span><span class="chip cond-like-new">Like New</span>
      <span class="chip">Balanced drape</span><span class="chip">Medium body</span>
    </div>
    <p class="meta"><span class="dot">•</span> Mostly opaque <span class="dot">•</span> GSM 150 <span class="dot">•</span> 55" <span class="dot">•</span> Joann · Japan</p>
    <p class="price">$28.00 / yd</p>
  </article>

  <article class="card"
    data-content="linen" data-type="twill" data-category="natural"
    data-condition="new" data-trans="mostly-opaque"
    data-drape="structured" data-structure="crisp" data-uses="blazer,trouser,pleated-skirt,bag"
    data-gsm="175" data-width="55" data-price="35"
    data-colors="beige,tan" data-designer="Liberty" data-country="turkey">
    <div class="thumb" aria-label="Linen Twill"></div>
    <h3 class="title">Linen Twill</h3>
    <div class="row">
      <span class="chip"><b>Linen</b></span><span class="chip">Twill</span>
      <span class="chip cat-natural">Natural</span><span class="chip cond-new">New</span>
      <span class="chip">Structured drape</span><span class="chip">Crisp body</span>
    </div>
    <p class="meta"><span class="dot">•</span> Mostly opaque <span class="dot">•</span> GSM 175 <span class="dot">•</span> 55" <span class="dot">•</span> Liberty · Turkey</p>
    <p class="price">$35.00 / yd</p>
  </article>

  <article class="card"
    data-content="polyester" data-type="jersey" data-category="synthetic"
    data-condition="used" data-trans="opaque"
    data-drape="ultra-fluid" data-structure="soft" data-uses="underwear,activewear,top"
    data-gsm="180" data-width="60" data-price="12"
    data-colors="grey,black" data-designer="Mood" data-country="usa">
    <div class="thumb" aria-label="Poly Jersey"></div>
    <h3 class="title">Poly Jersey</h3>
    <div class="row">
      <span class="chip"><b>Polyester</b></span><span class="chip">Jersey</span>
      <span class="chip cat-synthetic">Synthetic</span><span class="chip cond-used">Used</span>
      <span class="chip">Ultra-fluid</span><span class="chip">Soft body</span>
    </div>
    <p class="meta"><span class="dot">•</span> Opaque <span class="dot">•</span> GSM 180 <span class="dot">•</span> 60" <span class="dot">•</span> Mood · USA</p>
    <p class="price">$12.00 / yd</p>
  </article>

  <article class="card"
    data-content="wool-silk" data-type="crepe" data-category="blend"
    data-condition="like-new" data-trans="mostly-sheer"
    data-drape="fluid" data-structure="soft" data-uses="dress,flowy-skirt,top"
    data-gsm="160" data-width="57" data-price="70"
    data-colors="navy,ivory" data-designer="Joann" data-country="france">
    <div class="thumb" aria-label="Wool-Silk Crepe Blend"></div>
    <h3 class="title">Wool-Silk Crepe Blend</h3>
    <div class="row">
      <span class="chip"><b>Wool/Silk</b></span><span class="chip">Crepe</span>
      <span class="chip cat-blend">Blend</span><span class="chip cond-like-new">Like New</span>
      <span class="chip">Fluid drape</span><span class="chip">Soft body</span>
    </div>
    <p class="meta"><span class="dot">•</span> Mostly sheer <span class="dot">•</span> GSM 160 <span class="dot">•</span> 57" <span class="dot">•</span> Joann · France</p>
    <p class="price">$70.00 / yd</p>
  </article>
</section>

<script>
(function(){
  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));
  const num = v => (v===''||v==null||isNaN(+v))?null:+v;
  const within = (val,min,max)=>{ if(val==null)return false; if(min!=null&&val<min)return false; if(max!=null&&val>max)return false; return true;}

  function hasUse(cardUsesCsv, wanted){
    if(!wanted) return true;
    if(!cardUsesCsv) return false;
    return cardUsesCsv.split(',').some(x=>x.trim()===wanted);
  }

  function matches(card,q){
    const d = card.dataset;

    if(q.content && q.content!==d.content) return false;
    if(q.type && q.type!==d.type) return false;
    if(q.category && q.category!==d.category) return false;
    if(q.condition && q.condition!==d.condition) return false;
    if(q.trans && q.trans!==d.trans) return false;
    if(q.drape && q.drape!==d.drape) return false;
    if(q.structure && q.structure!==d.structure) return false;
    if(q.country && q.country!==d.country) return false;
    if(q.designer && !(d.designer||'').toLowerCase().includes(q.designer)) return false;
    if(q.uses && !hasUse(d.uses||'', q.uses)) return false;

    if((q.gsmMin!=null||q.gsmMax!=null) && !within(+d.gsm,q.gsmMin,q.gsmMax)) return false;
    if((q.wMin!=null||q.wMax!=null) && !within(+d.width,q.wMin,q.wMax)) return false;
    if((q.pMin!=null||q.pMax!=null) && !within(+d.price,q.pMin,q.pMax)) return false;

    if(q.search){
      const blob=(card.textContent||'').toLowerCase();
      if(!blob.includes(q.search)) return false;
    }
    return true;
  }

  function readQuery(){
    return {
      search: ($('#q')?.value||'').trim().toLowerCase(),
      content: $('#f-content').value,
      type: $('#f-type').value,
      category: $('#f-category').value,
      condition: $('#f-condition').value,
      trans: $('#f-trans').value,
      drape: $('#f-drape').value,
      structure: $('#f-structure').value,
      uses: $('#f-uses').value,
      gsmMin: num($('#gsm-min')?.value),
      gsmMax: num($('#gsm-max')?.value),
      wMin: num($('#w-min')?.value),
      wMax: num($('#w-max')?.value),
      pMin: num($('#p-min')?.value),
      pMax: num($('#p-max')?.value),
      designer: ($('#designer')?.value||'').trim().toLowerCase(),
      country: $('#country')?.value || ''
    };
  }

  function apply(){
    const q = readQuery(); let shown = 0;
    $$('.card').forEach(card=>{
      const show = matches(card,q); card.style.display = show?'block':'none'; if(show) shown++;
    });
    $('#catalog-status').textContent = shown ? `Showing ${shown} fabric${shown>1?'s':''}` : 'No fabrics match these filters';
  }
  function clearAll(){
    ['#f-content','#f-type','#f-category','#f-condition','#f-trans','#f-drape','#f-structure','#f-uses','#country'].forEach(s=>{const el=$(s); if(el) el.value='';});
    ['#gsm-min','#gsm-max','#w-min','#w-max','#p-min','#p-max','#designer','#q'].forEach(s=>{const el=$(s); if(el) el.value='';});
    apply();
  }

  ['#q','#f-content','#f-type','#f-category','#f-condition','#f-trans','#f-drape','#f-structure','#f-uses','#gsm-min','#gsm-max','#w-min','#w-max','#p-min','#p-max','#designer','#country']
    .forEach(sel=>{
      const el=$(sel); if(!el) return;
      el.addEventListener('change', apply);
      if(el.tagName==='INPUT') el.addEventListener('keyup', e=>{ if(e.key==='Enter') apply(); });
    });
  $('#apply').addEventListener('click', apply);
  $('#clear').addEventListener('click', clearAll);

  apply();
})();
</script>
</body>
</html>
