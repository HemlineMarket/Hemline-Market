<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Browse · Hemline Market</title>
  <link rel="stylesheet" href="styles/hm-modern.css" />
  <link rel="stylesheet" href="styles/hem-header.css" />
  <link rel="stylesheet" href="styles/hm-profile.css" />
  <link rel="stylesheet" href="styles/hm-typography.css" />
  <style>
    :root{
      --hm-border:#e5e7eb; --hm-soft:#f7f7f8; --hm-muted:#6b7280; --hm-text:#1f2937; --hm-accent:#991b1b;
      --hm-chip:#f3f4f6;
    }
    .page{max-width:1200px;margin:14px auto 24px;padding:0 16px;}
    .layout{display:grid;grid-template-columns:260px 1fr;gap:16px}
    @media (max-width:980px){.layout{grid-template-columns:1fr}}
    /* Sidebar */
    .filters{border:1px solid var(--hm-border);border-radius:14px;background:#fff;position:sticky;top:12px;height:fit-content}
    .filters header{padding:12px 14px;font-weight:800;border-bottom:1px solid var(--hm-border)}
    .block{border-bottom:1px solid var(--hm-border)}
    .block:last-child{border-bottom:0}
    .block details{padding:0}
    .block summary{cursor:pointer;list-style:none;padding:12px 14px;font-weight:700}
    .block summary::-webkit-details-marker{display:none}
    .block .body{padding:0 14px 12px 14px}
    .stack{display:grid;gap:8px}
    .range{display:flex;gap:8px;align-items:center}
    .range input{width:100%;padding:8px 10px;border:1px solid var(--hm-border);border-radius:10px}
    /* Results header */
    .toolbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
    .chips{display:flex;flex-wrap:wrap;gap:8px}
    .chip{background:var(--hm-chip);border:1px solid var(--hm-border);border-radius:999px;padding:6px 10px;font-size:12px}
    .sort{padding:8px 10px;border:1px solid var(--hm-border);border-radius:10px;background:#fff}
    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}
    @media (max-width:1024px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:640px){.grid{grid-template-columns:1fr}}
    .card{background:#fff;border:1px solid var(--hm-border);border-radius:14px;overflow:hidden}
    .ph{aspect-ratio:4/3;background:linear-gradient(180deg,#f8fafc,#eef2f7)}
    .meta{padding:10px 12px}
    .meta strong{display:block}
    .meta .muted{font-size:13px;color:var(--hm-muted)}
    /* Footer */
    footer.hm-footer{border-top:1px solid var(--hm-border);padding:16px 0;margin-top:24px;background:var(--hm-soft)}
    .footer-wrap{max-width:1200px;margin:0 auto;padding:0 16px;display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}
    .footer-links{display:flex;gap:14px;flex-wrap:wrap}
    .footer-links a{font-size:14px;color:var(--hm-text);text-decoration:none}
    .footer-links a:hover{text-decoration:underline}
    .copy{font-size:13px;color:var(--hm-muted)}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="hm-header" role="banner">
    <div class="wrap">
      <div class="left">
        <a class="hm-brand" href="index.html" aria-label="Hemline Market home">
          Hemline<span class="dot">•</span>Market
        </a>
        <nav class="hm-nav" aria-label="Primary">
          <a href="browse.html" aria-current="page">Browse</a>
          <a href="about.html">About</a>
        </nav>
      </div>

      <div class="hm-search">
        <form action="browse.html" method="get" role="search" aria-label="Sitewide">
          <input type="search" name="q" placeholder="Search fabrics, shops, or styles…" />
          <button type="submit" aria-label="Search">Search</button>
        </form>
      </div>

      <div class="hm-actions">
        <a class="hm-icon" href="favorites.html" aria-label="Favorites">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 1 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"/>
          </svg>
        </a>
        <a class="hm-btn hm-btn-primary" href="seller/index.html?list=new" aria-label="List an item">
          <span class="label">List Item</span>
        </a>
        <div class="hm-profile">
          <a class="hm-avatar" href="#" aria-label="Your profile">?</a>
          <nav class="hm-profile-menu" aria-label="Profile">
            <a href="account.html">Account</a>
            <a href="atelier.html">Atelier</a>
            <a href="listings.html">Listings</a>
            <a href="drafts.html">Drafts</a>
            <a href="favorites.html">Favorites</a>
            <a href="orders.html">Orders</a>
            <a href="bundles.html">Bundles</a>
            <a href="notifications.html">Notifications</a>
            <a href="settings.html">Settings</a>
            <a href="help.html">Help</a>
            <a href="terms.html">Terms</a>
            <a href="privacy.html">Privacy</a>
            <a href="shipping.html">Shipping & Returns</a>
            <a href="faq.html">FAQ</a>
          </nav>
        </div>
      </div>
    </div>
  </header>

  <!-- PAGE -->
  <div class="page">
    <div class="layout">
      <!-- SIDEBAR FILTERS -->
      <aside class="filters" aria-label="Filters">
        <header>Filters</header>

        <section class="block">
          <details open>
            <summary>Department</summary>
            <div class="body">
              <div class="stack">
                <label><input type="checkbox" name="dept_fashion" value="1"> Fashion</label>
                <label><input type="checkbox" name="dept_home" value="1"> Home</label>
                <label><input type="checkbox" name="dept_quilting" value="1"> Quilting</label>
                <label><input type="checkbox" name="dept_notions" value="1"> Notions</label>
              </div>
            </div>
          </details>
        </section>

        <section class="block">
          <details open>
            <summary>Fabric Content</summary>
            <div class="body">
              <div class="stack">
                <label><input type="checkbox" name="fiber_wool" value="1"> Wool</label>
                <label><input type="checkbox" name="fiber_silk" value="1"> Silk</label>
                <label><input type="checkbox" name="fiber_cotton" value="1"> Cotton</label>
                <label><input type="checkbox" name="fiber_linen" value="1"> Linen</label>
                <label><input type="checkbox" name="fiber_leather" value="1"> Leather</label>
                <label><input type="checkbox" name="fiber_synthetics" value="1"> Synthetics</label>
              </div>
            </div>
          </details>
        </section>

        <section class="block">
          <details>
            <summary>Material Class</summary>
            <div class="body">
              <div class="stack">
                <label><input type="radio" name="class" value="" checked> Any</label>
                <label><input type="radio" name="class" value="natural"> Natural</label>
                <label><input type="radio" name="class" value="modified"> Modified Natural</label>
                <label><input type="radio" name="class" value="synthetic"> Synthetic</label>
                <label><input type="radio" name="class" value="blend"> Blend</label>
              </div>
            </div>
          </details>
        </section>

        <section class="block">
          <details>
            <summary>Fabric Type</summary>
            <div class="body">
              <div class="stack" id="type-stack">
                <label><input type="checkbox" name="type_crepe" value="1"> Crepe</label>
                <label><input type="checkbox" name="type_twill" value="1"> Twill</label>
                <label><input type="checkbox" name="type_sateen" value="1"> Sateen</label>
                <label><input type="checkbox" name="type_denim" value="1"> Denim</label>
                <label><input type="checkbox" name="type_jersey" value="1"> Jersey</label>
                <label><input type="checkbox" name="type_canvas" value="1"> Canvas</label>
              </div>
            </div>
          </details>
        </section>

        <section class="block">
          <details>
            <summary>Color Family</summary>
            <div class="body">
              <div class="stack">
                <label><input type="checkbox" name="clr_neutral" value="1"> Neutrals</label>
                <label><input type="checkbox" name="clr_red" value="1"> Red</label>
                <label><input type="checkbox" name="clr_blue" value="1"> Blue</label>
                <label><input type="checkbox" name="clr_green" value="1"> Green</label>
                <label><input type="checkbox" name="clr_black" value="1"> Black</label>
                <label><input type="checkbox" name="clr_white" value="1"> White</label>
              </div>
            </div>
          </details>
        </section>

        <section class="block">
          <details>
            <summary>Price (per yard)</summary>
            <div class="body">
              <div class="range">
                <input type="number" inputmode="numeric" name="price_min" placeholder="Min">
                <span>–</span>
                <input type="number" inputmode="numeric" name="price_max" placeholder="Max">
              </div>
            </div>
          </details>
        </section>

        <section class="block">
          <div class="body">
            <button id="apply" style="width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--hm-border);background:#fff;font-weight:700">Apply</button>
          </div>
        </section>
      </aside>

      <!-- RESULTS -->
      <main>
        <div class="toolbar">
          <div class="chips" id="chips"></div>
          <select class="sort" id="sort">
            <option value="featured">Featured</option>
            <option value="new">Newest</option>
            <option value="price_asc">Price: Low to High</option>
            <option value="price_desc">Price: High to Low</option>
          </select>
        </div>

        <section class="grid" id="grid">
          <!-- Placeholder cards for now -->
          <article class="card"><div class="ph"></div><div class="meta"><strong>Italian Silk Twill</strong><span class="muted">Navy · 54″ · $68/yd</span></div></article>
          <article class="card"><div class="ph"></div><div class="meta"><strong>Wool Crepe</strong><span class="muted">Black · 58″ · $52/yd</span></div></article>
          <article class="card"><div class="ph"></div><div class="meta"><strong>Cotton Sateen</strong><span class="muted">White · 44″ · $22/yd</span></div></article>
          <article class="card"><div class="ph"></div><div class="meta"><strong>Lamb Leather Nappa</strong><span class="muted">Moss · 48″ · $95/yd</span></div></article>
          <article class="card"><div class="ph"></div><div class="meta"><strong>Linen Twill</strong><span class="muted">Natural · 56″ · $28/yd</span></div></article>
          <article class="card"><div class="ph"></div><div class="meta"><strong>Silk Charmeuse</strong><span class="muted">Ivory · 45″ · $36/yd</span></div></article>
        </section>
      </main>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="hm-footer" role="contentinfo">
    <div class="footer-wrap">
      <div class="copy">© 2025 Hemline Market</div>
      <nav class="footer-links" aria-label="Footer">
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
        <a href="faq.html">FAQ</a>
        <a href="privacy.html">Privacy</a>
        <a href="terms.html">Terms</a>
        <a href="shipping.html">Shipping & Returns</a>
      </nav>
    </div>
  </footer>

  <!-- JS (chips + minimal filter state; no backend yet) -->
  <script>
    (function(){
      // profile dropdown
      const profile = document.querySelector(".hm-profile");
      if(profile){
        document.addEventListener("click", function(e){
          if(profile.contains(e.target)){ profile.classList.toggle("open"); }
          else { profile.classList.remove("open"); }
        });
        const avatar = profile.querySelector(".hm-avatar");
        if(avatar){ avatar.addEventListener("click", e => e.preventDefault()); }
      }

      // query → chips
      const qs = new URLSearchParams(location.search);
      const chips = document.getElementById("chips");
      function chip(text){ const s=document.createElement("span"); s.className="chip"; s.textContent=text; chips.appendChild(s); }
      const label = {
        fiber_wool:"Wool", fiber_silk:"Silk", fiber_cotton:"Cotton", fiber_linen:"Linen", fiber_leather:"Leather", fiber_synthetics:"Synthetics",
        dept_fashion:"Fashion", dept_home:"Home", dept_quilting:"Quilting", dept_notions:"Notions",
        clr_neutral:"Neutrals", clr_red:"Red", clr_blue:"Blue", clr_green:"Green", clr_black:"Black", clr_white:"White",
        type_crepe:"Crepe", type_twill:"Twill", type_sateen:"Sateen", type_denim:"Denim", type_jersey:"Jersey", type_canvas:"Canvas"
      };
      Object.keys(label).forEach(k=>{ if(qs.get(k)) chip(label[k]); });
      const pmin = qs.get("price_min"), pmax = qs.get("price_max");
      if(pmin || pmax) chip(`$${pmin||"0"}–$${pmax||"∞"}`);
      const klass = qs.get("class");
      if(klass){ chip(klass==="modified"?"Modified Natural":klass.charAt(0).toUpperCase()+klass.slice(1)); }
      const q = qs.get("q"); if(q) chip(`“${q}”`);

      // set form controls from qs
      document.querySelectorAll(".filters input[type=checkbox], .filters input[type=radio]").forEach(el=>{
        if(qs.has(el.name)) {
          if(el.type==="checkbox") el.checked = true;
          if(el.type==="radio" && qs.get(el.name)===el.value) el.checked = true;
          const det = el.closest("details"); if(det) det.open = true;
        }
      });
      ["price_min","price_max"].forEach(k=>{
        const el = document.querySelector(`[name=${k}]`); if(el && qs.get(k)) el.value = qs.get(k);
      });

      // apply → rebuild URL with selected filters
      document.getElementById("apply").addEventListener("click",function(){
        const params=new URLSearchParams();
        document.querySelectorAll(".filters input").forEach(el=>{
          if(el.type==="checkbox" && el.checked) params.set(el.name,"1");
          if(el.type==="radio" && el.checked && el.value) params.set(el.name,el.value);
          if(el.type==="number" && el.value) params.set(el.name,el.value);
        });
        const qinp = document.querySelector('form[role="search"] input[name="q"]');
        if(qinp && qinp.value) params.set("q", qinp.value);
        location.search = params.toString();
      });
    })();
  </script>
</body>
</html>
