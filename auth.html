<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Auth â€” Hemline Market</title>
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
  <h1>Auth Test</h1>
  <form id="signup">
    <input type="email" id="su-email" placeholder="Email" required>
    <input type="password" id="su-pass" placeholder="Password" required>
    <button>Sign Up</button>
  </form>

  <form id="login">
    <input type="email" id="li-email" placeholder="Email" required>
    <input type="password" id="li-pass" placeholder="Password" required>
    <button>Log In</button>
  </form>

  <button id="logout">Log Out</button>

  <script>
    const supabase = window.supabase.createClient(
      "https://clkizksbvxjkoatdajgd.supabase.co",
      "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNsa2l6a3Nidnhqa29hdGRhamdkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2ODAyMDUsImV4cCI6MjA3MDI1NjIwNX0.m3wd6UAuqxa7BpcQof9mmzd8zdsmadwGDO0x7-nyBjI"
    );

    document.getElementById("signup").onsubmit = async (e) => {
      e.preventDefault();
      const { error } = await supabase.auth.signUp({
        email: document.getElementById("su-email").value,
        password: document.getElementById("su-pass").value
      });
      if (error) alert(error.message); else alert("Check your email to confirm.");
    };

    document.getElementById("login").onsubmit = async (e) => {
      e.preventDefault();
      const { error } = await supabase.auth.signInWithPassword({
        email: document.getElementById("li-email").value,
        password: document.getElementById("li-pass").value
      });
      if (error) alert(error.message); else alert("Logged in!");
    };

    document.getElementById("logout").onclick = async () => {
      await supabase.auth.signOut();
      alert("Logged out.");
    };
  </script>
</body>
</html>
