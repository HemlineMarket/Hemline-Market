<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Your Purchases — Hemline Market</title>

  <link rel="icon" href="/favicon.ico" type="image/x-icon"/>

  <!-- Shared styles (universal stack) -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hm-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>

  <style>
    :root{
      --hm-accent:#991b1b;
      --hm-text:#111827;
      --hm-muted:#6b7280;
      --hm-border:#e5e7eb;
      --hm-bg:#f4f4f7;
      --hm-card:#ffffff;
    }

    html, body{
      margin:0;
      background:var(--hm-bg);
      color:var(--hm-text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    .wrap{
      max-width:1100px;
      margin:18px auto 28px;
      padding:0 12px;
    }

    .page-head{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom:10px;
    }
    .page-head h1{
      margin:0;
      font-size:34px;
      line-height:1.15;
      letter-spacing:-0.02em;
    }
    .sub{
      margin:6px 0 0;
      color:var(--hm-muted);
      font-size:13px;
    }
    .status-pill{
      align-self:center;
      font-size:12px;
      color:#6b7280;
    }

    .panel{
      background:var(--hm-card);
      border:1px solid var(--hm-border);
      border-radius:14px;
      padding:14px;
      box-shadow:0 1px 0 rgba(0,0,0,.02);
    }

    #ordersList{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    .empty{
      color:var(--hm-muted);
      font-size:14px;
      padding:18px 12px;
    }
  </style>
</head>

<body>
  <!-- UNIVERSAL HEADER (injected by hm-shell.js) -->
  <div id="hm-shell-header"></div>

  <main class="wrap">
    <div class="page-head">
      <div>
        <h1>Your Purchases</h1>
        <p class="sub">Fabric you’ve purchased on Hemline Market.</p>
      </div>
      <div class="status-pill" id="pageStatus"></div>
    </div>

    <section class="panel">
      <div id="emptyState" class="empty">Loading…</div>
      <div id="ordersList"></div>
    </section>
  </main>

  <!-- UNIVERSAL FOOTER (injected by hm-shell.js) -->
  <div id="hm-shell-footer"></div>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- Shared shell (universal header/footer + session) -->
  <script src="scripts/hm-shell.js"></script>
  <script>
    window.HM && window.HM.renderShell({ currentPage: "purchases" });
    const s = document.getElementById("pageStatus");
    if (s) s.textContent = "Signed in";
  </script>

  <!-- ✅ Purchases logic (THIS WAS MISSING) -->
  <script src="scripts/purchases.js" defer></script>
</body>
</html>
