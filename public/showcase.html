<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Showcase — ThreadTalk • Hemline Market</title>
  <link rel="icon" href="/favicon.ico"/>

  <!-- Shared site styles -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hem-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>

  <style>
    :root{
      --hm-brand:#991b1b; --ink:#3f2f2a; --muted:#7a6e68; --border:#e8e0d9; --bg:#fdfbf9; --card:#fff; --accent:#2d2d2d;
    }
    body{
      background:
        radial-gradient(1200px 420px at 50% -240px, rgba(153,27,27,.06) 0%, rgba(253,251,249,0) 60%),
        linear-gradient(180deg,var(--bg) 0%,#fff 100%);
      color:var(--ink);
    }
    .wrap-1200{max-width:1200px;margin:0 auto;padding:0 16px}
    .hm-header{min-height:56px;background:#fff;border-bottom:1px solid var(--border);position:relative;z-index:300}
    .hm-footer{background:#fff;border-top:1px solid var(--border);margin-top:28px}
    .hm-header .hm-brand{color:var(--hm-brand)!important}

    .hero{
      max-width:1200px;margin:22px auto 16px;padding:24px 18px;border:1px solid var(--border);border-radius:20px;
      background:radial-gradient(120% 150% at 50% 0%, #fff 0%, rgba(153,27,27,.05) 55%, #fff 100%);
      box-shadow:0 10px 20px rgba(50,38,31,.07); text-align:center;
    }
    .hero h1{font-family:ui-serif,"Cormorant Garamond",Georgia,serif;font-size:clamp(30px,4.5vw,48px);margin:0 0 6px}
    .sub{color:var(--muted);margin:4px 0 14px}

    /* composer (compact, like Tailoring) */
    .composer{display:flex;gap:10px;align-items:center;justify-content:center;flex-wrap:wrap}
    .chip{
      border:1px solid var(--border);border-radius:24px;padding:10px 16px;background:#fff;font-weight:700;min-width:110px;text-align:center
    }
    .input-wrap{
      display:flex;align-items:center;gap:10px;
      border:1px solid var(--border);border-radius:999px;background:#fff;padding:8px 10px;min-width:min(92vw,840px)
    }
    .input-wrap input[type="text"]{
      flex:1;border:none;outline:none;font:inherit;padding:6px 8px;border-radius:999px;color:var(--ink)
    }
    .icon-btn{
      display:inline-grid;place-items:center;width:36px;height:36px;border-radius:10px;border:1px solid var(--border);background:#fff;cursor:pointer
    }
    .icon-btn svg{width:20px;height:20px}
    .post-btn{border:1px solid var(--accent);background:var(--accent);color:#fff;padding:10px 14px;border-radius:12px;font-weight:700}
    .back{display:inline-block;margin-top:10px;background:#1f2937;color:#fff;border:1px solid #1f2937;padding:10px 14px;border-radius:10px;text-decoration:none}

    /* feed */
    .section{max-width:1200px;margin:8px auto 24px;padding:0 16px}
    .section h2{font-size:18px;color:#5a463d;margin:10px 0 12px}
    .cards{display:flex;flex-direction:column;gap:14px}
    .card{background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px 18px;box-shadow:0 8px 14px rgba(50,38,31,.07)}
    .meta{display:flex;align-items:center;gap:8px;color:#7a6e68;font-size:13px;margin-bottom:6px}
    .avatar{width:28px;height:28px;border-radius:50%;border:1px solid var(--border);display:inline-grid;place-items:center;font-weight:700;font-size:12px;background:#fff}
    .preview{white-space:pre-wrap;color:#4b3d35}
    .post-img,.post-video{width:100%;max-height:560px;border-radius:12px;border:1px solid var(--border);margin:8px 0}
    #empty{color:#7a6e68;font-size:14px}

    /* sheet/overlay for hamburger (shared behavior) */
    #sheetOverlay{position:fixed;inset:0;background:rgba(0,0,0,.28);opacity:0;visibility:hidden;transition:opacity .2s ease;z-index:325}
    #sheetOverlay.show{opacity:1;visibility:visible}
    .sheet{position:fixed;inset:0 auto 0 0;width:min(84vw,340px);background:#fff;border-right:1px solid var(--border);
      transform:translateX(-100%);transition:transform .25s ease;z-index:350;display:flex;flex-direction:column}
    .sheet.open{transform:translateX(0)}
    a:focus-visible,button:focus-visible{outline:3px solid rgba(153,27,27,.35);outline-offset:2px;border-radius:10px}
  </style>
</head>
<body>

<!-- HEADER -->
<header class="hm-header" role="banner">
  <div class="wrap-1200" style="display:flex;align-items:center;justify-content:space-between;padding:0 12px">
    <div class="left" style="display:flex;align-items:center;gap:10px">
      <button id="openMenu" aria-label="Open menu"
        style="display:inline-grid;place-items:center;width:36px;height:36px;border:1px solid var(--border);border-radius:10px;background:#fff;color:#4b3d35">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" style="width:22px;height:22px;stroke-width:2">
          <line x1="4" y1="6"  x2="20" y2="6"/><line x1="4" y1="12" x2="20" y2="12"/><line x1="4" y1="18" x2="20" y2="18"/>
        </svg>
      </button>
      <a class="hm-brand" href="index.html" style="font-size:24px;font-weight:800;text-decoration:none">Hemline Market</a>
    </div>
    <div class="right" style="display:flex;align-items:center;gap:14px">
      <a class="hm-icon" href="browse.html" aria-label="Browse" style="color:#4b3d35;display:inline-grid;place-items:center">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" style="width:26px;height:26px;stroke-width:2">
          <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.3-4.3"/>
        </svg>
      </a>
      <a class="hm-icon" href="ThreadTalk.html" aria-label="ThreadTalk" style="color:#4b3d35;display:inline-grid;place-items:center">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" style="width:26px;height:26px;stroke-width:2">
          <path d="M4 6.5A4.5 4.5 0 0 1 8.5 2h7A4.5 4.5 0 0 1 20 6.5v5A4.5 4.5 0 0 1 15.5 16H12l-4 4v-4H8.5A4.5 4.5 0 0 1 4 11.5z"/>
        </svg>
      </a>
      <a class="hm-icon" href="favorites.html" aria-label="Favorites" style="color:#4b3d35;display:inline-grid;place-items:center">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" style="width:26px;height:26px;stroke-width:2">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 1 0-7.78 7.78L12 21.23l8.84-8.84a5.5 5.5 0 0 0 0-7.78z"/>
        </svg>
      </a>
      <a class="hm-icon" href="notifications.html" aria-label="Notifications" style="color:#4b3d35;display:inline-grid;place-items:center">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" style="width:26px;height:26px;stroke-width:2">
          <path d="M18 8a6 6 0 1 0-12 0c0 7-3 7-3 7h18s-3 0-3-7"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/>
        </svg>
      </a>
      <a class="hm-icon" href="cart.html" aria-label="Cart" style="color:#4b3d35;display:inline-grid;place-items:center">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" style="width:26px;height:26px;stroke-width:2">
          <circle cx="9" cy="21" r="1"/><circle cx="18" cy="21" r="1"/><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h7.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
      </a>
      <a class="hm-avatar" id="avatar" href="account.html"
         style="width:28px;height:28px;border-radius:50%;border:1px solid var(--border);background:#fff;color:#4b3d35;display:inline-grid;place-items:center;font-weight:700;font-size:12px;text-decoration:none">AA</a>
      <a class="hm-btn-primary" href="sell.html" style="text-decoration:none;background:#2d2d2d;color:#fff;padding:8px 12px;border-radius:10px;border:1px solid #2d2d2d">Sell</a>
    </div>
  </div>
</header>

<div id="sheetOverlay" aria-hidden="true"></div>
<aside class="sheet" id="menuSheet" aria-hidden="true" role="dialog" aria-modal="true">
  <header style="display:flex;align-items:center;justify-content:space-between;padding:10px;border-bottom:1px solid var(--border)">
    <strong>Menu</strong>
    <button id="closeMenu" aria-label="Close menu"
      style="display:inline-grid;place-items:center;width:30px;height:30px;border:1px solid var(--border);border-radius:8px;background:#fff">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
  </header>
  <nav style="display:grid;padding:10px">
    <a href="ThreadTalk.html" style="padding:10px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--ink)">ThreadTalk</a>
    <a href="browse.html" style="padding:10px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--ink)">Browse & Search</a>
    <a href="atelier.html" style="padding:10px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--ink)">My Atelier</a>
    <a href="how.html" style="padding:10px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--ink)">How It Works</a>
    <a href="seller/index.html?list=new" style="padding:10px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--ink)">Sell Fabric</a>
    <a href="contact.html" style="padding:10px;border:1px solid var(--border);border-radius:10px;text-decoration:none;color:var(--ink)">Contact</a>
  </nav>
</aside>

<!-- HERO / COMPOSER -->
<section class="hero" aria-labelledby="title">
  <h1 id="title">Showcase</h1>
  <p class="sub">Let’s share what we’ve made and keep each other inspired.</p>

  <div class="composer" role="region" aria-label="Create a post">
    <span class="chip" aria-hidden="true">Showcase</span>

    <div class="input-wrap">
      <input id="postText" type="text" maxlength="600"
             placeholder="Share a finished make, photo, or quick note…"/>
      <label class="icon-btn" title="Add photo">
        <input id="photoInput" type="file" accept="image/*" hidden>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="5" width="18" height="14" rx="2"/>
          <path d="M8 11l2-2 3 3 2-2 3 3"/>
          <circle cx="8" cy="9" r="1.5"/>
        </svg>
      </label>
      <label class="icon-btn" title="Add video">
        <input id="videoInput" type="file" accept="video/*" hidden>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="7" width="13" height="10" rx="2"/>
          <path d="M16 9l5-2v10l-5-2z"/>
        </svg>
      </label>
    </div>

    <button id="postBtn" class="post-btn" type="button">Post</button>

    <a href="ThreadTalk.html" class="back">Back to ThreadTalk</a>
  </div>
</section>

<!-- FEED -->
<section class="section" aria-labelledby="feedTitle">
  <h2 id="feedTitle">Latest Showcase Posts</h2>
  <div id="cards" class="cards" aria-live="polite"></div>
  <div id="empty">No posts yet. Be the first to share!</div>
</section>

<!-- FOOTER -->
<footer class="hm-footer" role="contentinfo">
  <div class="wrap-1200" style="display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;padding:12px 16px">
    <div class="copy">© 2025 Hemline Market</div>
    <nav class="footer-links" aria-label="Footer">
      <a href="about.html">About</a>
      <a href="faq.html">FAQ</a>
      <a href="contact.html">Contact</a>
      <a href="terms.html">Terms</a>
      <a href="privacy.html">Privacy</a>
    </nav>
  </div>
</footer>

<script>
(function(){
  // hamburger
  var sheet=document.getElementById('menuSheet');
  var overlay=document.getElementById('sheetOverlay');
  var openBtn=document.getElementById('openMenu');
  var closeBtn=document.getElementById('closeMenu');
  function openSheet(){sheet.classList.add('open');overlay.classList.add('show');sheet.setAttribute('aria-hidden','false');document.body.style.overflow='hidden';}
  function closeSheet(){sheet.classList.remove('open');overlay.classList.remove('show');sheet.setAttribute('aria-hidden','true');document.body.style.overflow='';}
  if(openBtn) openBtn.addEventListener('click',openSheet);
  if(closeBtn) closeBtn.addEventListener('click',closeSheet);
  if(overlay) overlay.addEventListener('click',closeSheet);
  document.addEventListener('keydown',function(e){ if(e.key==='Escape') closeSheet(); });

  // avatar image (optional)
  try{
    var avatar=document.getElementById('avatar');
    var url=localStorage.getItem('avatarUrl');
    if(avatar && url){ avatar.textContent=''; avatar.style.backgroundImage="url('"+url+"')"; avatar.style.backgroundSize='cover'; avatar.style.backgroundPosition='center'; }
  }catch(e){}

  // simple local feed
  var txt=document.getElementById('postText');
  var photo=document.getElementById('photoInput');
  var video=document.getElementById('videoInput');
  var cards=document.getElementById('cards');
  var empty=document.getElementById('empty');

  function initials(n){return (n||'AA').slice(0,2).toUpperCase();}
  function render(p, toTop){
    var el=document.createElement('article'); el.className='card';
    var media='';
    if(p.media){
      if(p.media.type==='image') media='<img class="post-img" alt="post image"/>';
      if(p.media.type==='video') media='<video class="post-video" controls></video>';
    }
    el.innerHTML = '<div class="meta"><div class="avatar">'+initials(p.user)+'</div><span>'+(p.user||'You')+'</span> • <span>just now</span></div>'
                 + '<div class="preview">'+(p.text||'')+'</div>'+media;
    // set media src after inserting
    if(toTop && cards.firstChild) cards.insertBefore(el,cards.firstChild); else cards.appendChild(el);
    if(p.media){
      var node = el.querySelector(p.media.type==='image'?'.post-img':'.post-video');
      if(node) node.src = p.media.url;
    }
  }
  function save(p){
    try{
      var key='tt_showcase_posts';
      var arr=JSON.parse(localStorage.getItem(key)||'[]');
      arr.unshift(p);
      localStorage.setItem(key,JSON.stringify(arr));
    }catch(e){}
  }
  function load(){
    try{
      var arr=JSON.parse(localStorage.getItem('tt_showcase_posts')||'[]');
      if(arr.length){ empty.style.display='none'; arr.forEach(function(p){render(p,false);}); }
    }catch(e){}
  }

  document.getElementById('postBtn').addEventListener('click',function(){
    var text=(txt.value||'').trim();
    if(!text){ txt.focus(); return; }
    var media=null;
    if(photo.files && photo.files[0]) media={type:'image', url:URL.createObjectURL(photo.files[0])};
    else if(video.files && video.files[0]) media={type:'video', url:URL.createObjectURL(video.files[0])};

    var post={user:localStorage.getItem('tt_user')||'You', text:text, media:media, ts:Date.now()};
    empty.style.display='none'; render(post,true); save(post);
    txt.value=''; photo.value=''; video.value='';
  });

  load();
})();
</script>
</body>
</html>
