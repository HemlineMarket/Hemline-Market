\<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Browse Fabric â€” Hemline Market</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="Browse unique fabrics from fellow sewists. Filter by type, color, weight, and price. Find silk, wool, linen, cosplay fabric, and more for your next project."/>
  <meta name="keywords" content="buy fabric online, fabric for sale, silk fabric, wool fabric, cosplay fabric, sustainable fabric, deadstock fabric"/>
  <meta name="robots" content="index, follow"/>
  <link rel="canonical" href="https://hemlinemarket.com/browse.html"/>

  <!-- Open Graph / Social Sharing -->
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://hemlinemarket.com/browse.html"/>
  <meta property="og:title" content="Browse Fabric â€” Hemline Market"/>
  <meta property="og:description" content="Browse unique fabrics from fellow sewists. Find silk, wool, linen, cosplay fabric, and more."/>
  <meta property="og:image" content="https://hemlinemarket.com/images/og-image.jpg"/>
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="Browse Fabric â€” Hemline Market"/>
  <meta name="twitter:description" content="Browse unique fabrics from fellow sewists. Find silk, wool, linen, cosplay fabric, and more."/>
  <meta name="twitter:image" content="https://hemlinemarket.com/images/og-image.jpg"/>

  <link rel="icon" href="/favicon.ico" type="image/x-icon"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">

  <!-- Shared styles (universal stack) -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hm-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>
  <link rel="stylesheet" href="styles/hm-browse-enhancements.css"/>

  <style>
    :root{
      /* Match universal tokens */
      --hm-accent:#991b1b;
      --hm-text:#111827;
      --hm-muted:#6b7280;
      --hm-border:#e5e7eb;
      --hm-bg-card:rgba(255,255,255,.96);

      /* Browse-specific aliases */
      --ink:#111827;
      --muted:#6b7280;
      --border:#e5e7eb;
      --accent:#991b1b;
      --bg:#fafafa;
    }

    html,body{
      margin:0;
      max-width:100%;
      overflow-x:hidden;
      background:
        url("images/homepage.jpeg") center/cover fixed no-repeat,
        var(--bg);
      color:var(--hm-text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    /* ===== BROWSE MAIN LAYOUT ===== */
    .browse-wrap{
      max-width:1100px;
      margin:18px auto 28px;
      padding:0 12px;
    }
    .topbar{
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:12px;
      flex-wrap:wrap;
    }
    .search-mode-select{
      padding:10px 28px 10px 12px;
      border:1px solid var(--accent);
      border-radius:10px;
      background:#fff;
      font-weight:600;
      color:var(--accent);
      cursor:pointer;
      appearance:none;
      -webkit-appearance:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23991b1b' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat:no-repeat;
      background-position:right 10px center;
    }
    .topbar input[type="search"]{
      flex:1;
      min-width:0;
      padding:10px;
      border:1px solid var(--border);
      border-radius:10px;
      background:#fff;
    }
    .topbar button{
      padding:9px 12px;
      border-radius:10px;
      border:1px solid var(--accent);
      background:var(--accent);
      color:#fff;
      font-weight:700;
      cursor:pointer;
      white-space:nowrap;
    }
    .filter-toggle{
      border-color:var(--border);
      background:#fff;
      color:#111827;
    }

    .layout{
      display:grid;
      grid-template-columns:280px 1fr;
      gap:14px;
    }
    .layout.filters-hidden .filters{display:none;}
    .layout.filters-hidden{grid-template-columns:1fr;}

    @media(max-width:900px){
      .layout{grid-template-columns:1fr;}
      .topbar input[type="search"]{flex-basis:100%;}
    }

    /* ---------- FILTERS ---------- */
    .filters{
      background:#fff;
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px;
      height:max-content;
    }
    .filters-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:8px;
    }
    .filters-header h3{margin:0;}
    .reset-filters-top{
      padding:4px 10px;
      font-size:12px;
      font-weight:600;
      color:var(--accent);
      background:#fff;
      border:1px solid var(--accent);
      border-radius:6px;
      cursor:pointer;
    }
    .reset-filters-top:hover{
      background:var(--accent);
      color:#fff;
    }
    .filters h3{margin:0 0 8px;}
    .section{
      border-top:1px solid var(--border);
      padding-top:6px;
      margin-top:6px;
    }
    .section:first-of-type{
      border-top:0;
      padding-top:0;
      margin-top:0;
    }
    .title{
      font-weight:600;
      font-size:11px;
      color:#6b7280;
      text-transform:uppercase;
      letter-spacing:0.3px;
      margin:0 0 4px;
    }
    .listbox{
      max-height:200px;
      overflow:auto;
      border:1px solid var(--border);
      border-radius:8px;
      padding:4px;
      background:#fff;
    }
    .row{
      display:flex;
      align-items:center;
      gap:6px;
      padding:3px 4px;
      border-bottom:1px solid #f9fafb;
    }
    .row:last-child{border-bottom:0;}
    .row input{
      width:13px;
      height:13px;
      margin:0;
      flex-shrink:0;
    }
    .row label{
      font-size:11px;
      color:#374151;
      line-height:1.2;
      cursor:pointer;
    }
    .row:hover{
      background:#f9fafb;
    }
 .mini{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:6px;
    }
    .mini .field{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width:0;
    }
    .mini label{
      font-size:11px;
      color:#374151;
    }
    .mini input{
      width:100%;
      min-width:0;
      padding:6px 8px;
      border:1px solid var(--border);
      border-radius:8px;
      background:#fff;
      font-size:11px;
      box-sizing:border-box;
    }
    .selects{
      display:grid;
      gap:6px;
    }
    .selects select,
    .selects input{
      width:100%;
      padding:6px 8px;
      border:1px solid var(--border);
      border-radius:8px;
      background:#fff;
      font-size:11px;
      font-family:inherit;
      color:#374151;
    }
    .selects select option{
      font-size:11px;
      font-family:inherit;
      padding:4px;
    }

    /* COLOR BOX */
    #colorBox{
      --sw:22px;
      --gap:6px;
      display:grid;
      grid-template-columns:repeat(5,var(--sw));
      grid-template-rows:repeat(3,var(--sw));
      gap:var(--gap);
      align-content:start;
      justify-content:start;
      padding:6px;
      background:#fff;
      border:1px solid var(--border);
      border-radius:10px;
    }
    #colorBox .sw{
      width:var(--sw);
      height:var(--sw);
      border-radius:6px;
      border:1px solid #d1d5db;
      box-shadow:inset 0 0 0 1px rgba(0,0,0,.06);
      cursor:pointer;
      position:relative;
    }
    #colorBox .sw[data-selected="true"]{
      outline:2px solid var(--accent);
      outline-offset:2px;
    }
    #colorBox .sw .tip{
      position:absolute;
      bottom:130%;
      left:50%;
      transform:translateX(-50%);
      background:rgba(0,0,0,.85);
      color:#fff;
      padding:2px 5px;
      border-radius:4px;
      font-size:10px;
      white-space:nowrap;
      opacity:0;
      pointer-events:none;
    }
    #colorBox .sw:hover .tip{opacity:1}
    #colorBox .sw[data-name="Brown"]{
      background:#8B4513;
    }
    #colorBox .sw[data-name="Gold"]{
      background:linear-gradient(145deg,#ffd700 0%,#ffec8b 25%,#daa520 50%,#ffd700 75%,#b8860b 100%);
      border-color:#b8860b;
    }
    #colorBox .sw[data-name="Silver"]{
      background:linear-gradient(145deg,#e8e8e8 0%,#ffffff 25%,#c0c0c0 50%,#e8e8e8 75%,#a8a8a8 100%);
      border-color:#a0a0a0;
    }

    /* ---------- RESULTS ---------- */
    .results{
      background:transparent;
      border:none;
      border-radius:0;
      padding:0;
      min-height:300px;
    }
    .results-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:10px;
    }

    .browse-grid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:10px;
      align-items:flex-start;
    }
    @media(max-width:900px){
      .browse-grid{grid-template-columns:repeat(2,minmax(0,1fr));}
    }
    @media(max-width:560px){
      /* match homepage/atelier: keep 2 columns on small phones */
      .browse-grid{grid-template-columns:repeat(2,minmax(0,1fr));}
    }
    @media(max-width:768px){
      /* Fix listing images on mobile - portrait ratio to show more fabric */
      .listing-thumb {
        aspect-ratio: 3 / 4 !important;
      }
      .listing-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }

    /* LISTING / ATELIER CARDS â€“ reuse same shell */
    .listing-card{
      background:var(--hm-bg-card);
      border:1px solid var(--hm-border);
      border-radius:12px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .listing-thumb-link{
      display:block;
      text-decoration:none;
      color:inherit;
    }
    .listing-thumb{
      aspect-ratio:4/3;
      background:linear-gradient(90deg,#f0f0f0 25%,#e8e8e8 50%,#f0f0f0 75%);
      background-size:200% 100%;
      animation:shimmer 1.5s infinite;
      display:grid;
      place-items:center;
      overflow:hidden;
      position:relative;
    }
    @keyframes shimmer{
      0%{background-position:200% 0;}
      100%{background-position:-200% 0;}
    }
    .listing-thumb img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .listing-body{
      padding:8px 10px 10px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .listing-title-row{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:6px;
    }
    .listing-title{
      font-weight:700;
      font-size:14px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      text-decoration:none;
      color:#111827;
    }
    .listing-dept{
      font-size:11px;
      padding:2px 6px;
      border-radius:999px;
      background:#f3f4f6;
      color:#4b5563;
      flex:0 0 auto;
      white-space:nowrap;
    }
    .listing-yards{
      font-size:12px;
      color:#4b5563;
    }
    .listing-cta-row{
      margin-top:4px;
    }
    .listing-add-btn{
      width:100%;
      border-radius:10px;
      border:1px solid #1e293b;
      background:#1e293b;
      color:#fff;
      font-weight:700;
      font-size:13px;
      padding:8px 10px;
      cursor:pointer;
      white-space:normal;    /* allow wrap on mobile */
      line-height:1.25;
      text-align:center;
      display:inline-block;
    }
    .listing-add-btn:hover{
      background:#334155;
      border-color:#334155;
    }
    .listing-add-btn[disabled]{
      opacity:.6;
      cursor:not-allowed;
    }
    .listing-price-row{
      margin-top:6px;
      display:flex;
      align-items:center;
      gap:6px;
      font-size:12px;
    }
    .listing-price-main{
      font-weight:700;
      color:#111827;
    }
    .listing-price-orig{
      text-decoration:line-through;
      color:#9ca3af;
    }
    .listing-seller-row{
      margin-top:4px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-size:12px;
      color:#6b7280;
    }
    .listing-seller-name{
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    /* Section Header - matches homepage */
    .section-header{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      margin:0 0 28px;
      padding:24px 20px;
      background:linear-gradient(135deg, rgba(255,255,255,0.95), rgba(254,243,242,0.9));
      border-radius:16px;
      border:1px solid rgba(153,27,27,0.15);
      box-shadow:0 8px 24px rgba(153,27,27,0.08);
    }
    .section-header h2{
      margin:0 0 8px;
      font-size:36px;
      font-weight:700;
      color:#991b1b;
      font-family: Georgia, 'Times New Roman', serif;
      letter-spacing: 2px;
      text-transform:uppercase;
      position:relative;
    }
    .section-header h2::after{
      content:"";
      display:block;
      width:60px;
      height:3px;
      background:#991b1b;
      margin:12px auto 0;
      border-radius:2px;
    }
    .section-header-subtitle{
      font-size:15px;
      color:#6b7280;
      margin-top:4px;
      background:rgba(0,0,0,.3);
      padding:4px 12px;
      border-radius:6px;
      display:inline-block;
    }
    .browse-controls{
      display:flex;
      align-items:center;
      gap:20px;
      margin-top:8px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .sort-control{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:14px;
      color:#4b5563;
    }
    .sort-control select{
      padding:6px 12px;
      border:1px solid #e5e7eb;
      border-radius:6px;
      font-size:14px;
      color:#374151;
      background:#fff;
      cursor:pointer;
    }
    .sort-control select:focus{
      outline:none;
      border-color:#991b1b;
    }

    /* Empty State - matches homepage */
    .home-empty{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      padding:40px 20px;
      background:#fff;
      border-radius:14px;
      border:1px solid #e5e7eb;
    }
    .empty-illustration{
      margin-bottom:16px;
      opacity:0.9;
    }
    .empty-title{
      margin:0 0 8px;
      font-size:18px;
      font-weight:700;
      color:#111827;
    }
    .empty-text{
      margin:0 0 16px;
      font-size:14px;
      color:#6b7280;
      max-width:300px;
    }
    .empty-cta{
      padding:10px 20px;
      background:#991b1b;
      color:#fff;
      font-weight:600;
      font-size:14px;
      border-radius:8px;
      text-decoration:none;
      border:none;
      cursor:pointer;
    }
    .empty-cta:hover{
      filter:brightness(1.1);
    }

    /* Cart hold badges */
    .cart-badge {
      position: absolute;
      top: 8px;
      left: 8px;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: 600;
      z-index: 2;
    }
    .cart-badge.yours {
      background: #d1fae5;
      color: #065f46;
      border: 1px solid #6ee7b7;
    }
    .cart-badge.others {
      background: #fef3c7;
      color: #92400e;
      border: 1px solid #fcd34d;
    }

  @media(max-width:768px){
    body{background-position:20% center;}
    .cart-badge {
      top: 4px;
      left: 4px;
      padding: 3px 6px;
      font-size: 9px;
    }
  }
  </style>
</head>
<body>

  <!-- UNIVERSAL HEADER (injected by hm-shell.js) -->
  <div id="hm-shell-header"></div>

  <main class="browse-wrap">
    <div class="topbar">
      <select id="searchMode" class="search-mode-select">
        <option value="fabrics">Fabrics</option>
        <option value="sellers">Sellers</option>
      </select>
      <input id="q" type="search" placeholder="Search fabricsâ€¦"/>
      <button id="doSearch" type="button">Search</button>
      <button id="toggleFilters" type="button" class="filter-toggle" aria-pressed="true">Hide filters</button>
    </div>

    <div class="layout" id="layout">
      <aside class="filters">
        <div class="filters-header">
          <h3>Filters</h3>
          <button type="button" class="reset-filters-top" onclick="clearAllFilters()">Reset</button>
        </div>

        <!-- FABRIC CONTENT (KNOWN) -->
        <section class="section">
          <div class="title">Fabric Content</div>
          <div class="listbox" id="contentBox"></div>
        </section>

        <!-- FABRIC TYPE - multi-select checkboxes -->
        <section class="section">
          <div class="title">Fabric Type</div>
          <div class="listbox" id="fabricTypeBox"></div>
        </section>

        <!-- COSPLAY-FRIENDLY FILTER -->
        <section class="section">
          <div style="display:flex;flex-direction:column;gap:8px;">
            <label id="cosplayLabel" style="display:flex;align-items:center;gap:8px;cursor:pointer;padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:#fff;transition:all 0.2s;">
              <input type="checkbox" id="cosplayFilter" style="width:18px;height:18px;accent-color:var(--accent);">
              <span style="font-size:13px;font-weight:700;color:#111827;">ðŸŽ­ Cosplay / Costume</span>
            </label>
            <div id="cosplayHint" style="display:none;font-size:11px;color:#92400e;padding:8px 10px;background:#fef3c7;border:1px solid #fcd34d;border-radius:8px;line-height:1.4;">
              <strong>Includes:</strong> Satin, charmeuse, chiffon, organza, tulle, velvet, lace, brocade, faux leather, vinyl, spandex, jersey, fleece, faux fur, minky, mesh, metallic
            </div>
          </div>
        </section>

        <!-- FEELS LIKE (UNKNOWN CONTENT) â€“ dropdown -->
        <section class="section">
          <div class="title">
            Fabric feels like
            <span style="font-weight:400;font-size:11px;color:var(--muted);">
              (for mystery / unknown content)
            </span>
          </div>
          <div class="selects">
            <select id="feelsLike">
              <option value="">Any</option>
              <option>brocade</option>
              <option>brushed cotton</option>
              <option>canvas</option>
              <option>charmeuse</option>
              <option>chiffon</option>
              <option>cotton</option>
              <option>crepe</option>
              <option>denim</option>
              <option>faux fur</option>
              <option>faux leather</option>
              <option>flannel</option>
              <option>fleece</option>
              <option>jersey knit</option>
              <option>lace</option>
              <option>lame</option>
              <option>leather</option>
              <option>linen</option>
              <option>mesh</option>
              <option>metallic</option>
              <option>minky</option>
              <option>organza</option>
              <option>ponte</option>
              <option>poplin</option>
              <option>satin</option>
              <option>scuba</option>
              <option>silk</option>
              <option>spandex</option>
              <option>suede</option>
              <option>suiting</option>
              <option>tulle</option>
              <option>tweed</option>
              <option>velour</option>
              <option>velvet</option>
              <option>vinyl</option>
              <option>wool</option>
            </select>
          </div>
        </section>

        <section class="section">
          <div class="title">
            Burn test
            <span style="font-weight:400;font-size:11px;color:var(--muted);">
              (for mystery / unknown content)
            </span>
          </div>
          <div class="selects">
            <select id="burnTest">
              <option value="">Any</option>
              <option value="melts">Melts (synthetic)</option>
              <option value="burns">Burns (natural)</option>
              <option value="not_performed">Not performed</option>
            </select>
          </div>
        </section>

        <section class="section">
          <div class="title">Color Family</div>
          <div id="colorBox"></div>
        </section>

        <section class="section">
          <div class="title">$/yard</div>
          <div class="mini">
            <div class="field">
              <label>Min</label>
              <input id="minPrice" type="number" min="0" step="1">
            </div>
            <div class="field">
              <label>Max</label>
              <input id="maxPrice" type="number" min="0" step="1">
            </div>
          </div>
        </section>

        <section class="section">
          <div class="title">Yards</div>
          <div class="mini">
            <div class="field" style="grid-column:1/-1">
              <label>Min yards</label>
              <input id="minYards" type="number" min="0" step="1">
            </div>
          </div>
        </section>

        <section class="section">
          <div class="title">Width (in)</div>
          <div class="mini">
            <div class="field">
              <label>Min</label>
              <input id="minWidth" type="number" min="0" step="1">
            </div>
            <div class="field">
              <label>Max</label>
              <input id="maxWidth" type="number" min="0" step="1">
            </div>
          </div>
        </section>

        <section class="section">
          <div class="title">Weight (GSM)</div>
          <div class="mini">
            <div class="field">
              <label>Min GSM</label>
              <input id="minGsm" type="number" min="0" step="1">
            </div>
            <div class="field">
              <label>Max GSM</label>
              <input id="maxGsm" type="number" min="0" step="1">
            </div>
          </div>
        </section>

        <section class="section">
          <div class="title">Department</div>
          <div class="selects">
            <select id="dept">
              <option value="">Any</option>
              <option>Fashion</option>
              <option>Home</option>
              <option>Quilting</option>
              <option>Notions</option>
            </select>
          </div>
        </section>

        <section class="section">
          <div class="title">Fiber Type</div>
          <div class="selects">
            <select id="fiberType">
              <option value="">Any</option>
              <option>Natural</option>
              <option>Modified Natural</option>
              <option>Synthetic</option>
              <option>Blend</option>
            </select>
          </div>
        </section>

        <section class="section">
          <div class="title">Designer / Mill</div>
          <div class="selects">
            <input id="designer" placeholder="e.g., Loro Piana"/>
          </div>
        </section>

        <section class="section">
          <div class="title">Country / Origin</div>
          <div class="selects">
            <select id="origin">
              <option value="">Any</option>
              <option>Italy</option>
              <option>France</option>
              <option>Japan</option>
              <option>UK</option>
              <option>USA</option>
              <option>Spain</option>
              <option>Portugal</option>
              <option>Germany</option>
              <option>Belgium</option>
              <option>Switzerland</option>
              <option>Netherlands</option>
              <option>Korea</option>
              <option>Australia</option>
              <option>Canada</option>
              <option>Brazil</option>
              <option>Other</option>
            </select>
          </div>
        </section>

        <section class="section">
          <div class="title">Pattern</div>
          <div class="selects">
            <select id="pattern">
              <option value="">Any</option>
              <option>Solid</option>
              <option>Printed</option>
            </select>
          </div>
        </section>

        <!-- Reset Filters Button -->
        <section class="section" style="border-top:none;padding-top:4px;">
          <button type="button" onclick="clearAllFilters()" style="
            width:100%;
            padding:10px 14px;
            background:#fff;
            border:1px solid #991b1b;
            border-radius:10px;
            color:#991b1b;
            font-weight:600;
            font-size:13px;
            cursor:pointer;
            transition:all 0.2s;
          " onmouseover="this.style.background='#fef2f2'" onmouseout="this.style.background='#fff'">
            Reset All Filters
          </button>
        </section>
      </aside>

      <section class="results">
        <div class="section-header">
          <h2 id="resultsHeading">New Arrivals</h2>
          <span id="resultCount" style="font-size:14px;color:var(--muted);margin-left:8px;"></span>
          <div class="browse-controls">
            <div class="sort-control">
              <label for="sortBy">Sort by:</label>
              <select id="sortBy">
                <option value="newest">Newest</option>
                <option value="price-low">Price/yard: Low to High</option>
                <option value="price-high">Price/yard: High to Low</option>
                <option value="yards-high">Most Yards</option>
              </select>
            </div>
          </div>
        </div>
        
        <!-- Applied Filters Chip Bar -->
        <div id="appliedFilters" class="applied-filters"></div>
        
        <div id="grid" class="browse-grid"></div>
        
        <!-- Empty state - no filters applied -->
        <div id="empty" class="home-empty" style="display:none;">
          <img src="images/empty-state.svg" alt="" class="empty-illustration" width="200" height="160" loading="lazy"/>
          <h3 class="empty-title">No listings yet</h3>
          <p class="empty-text">Once sellers start listing fabric, new cards will appear here.</p>
          <a href="sell.html" class="empty-cta">Be the first to list fabric â†’</a>
        </div>
        
        <!-- Empty state - filters applied but no results -->
        <div id="emptyFiltered" class="home-empty" style="display:none;">
          <img src="images/empty-state.svg" alt="" class="empty-illustration" width="200" height="160" loading="lazy"/>
          <h3 class="empty-title">No matches found</h3>
          <p class="empty-text">We couldn't find fabrics matching your filters. Try broadening your search!</p>
          <button onclick="clearAllFilters()" class="empty-cta">Clear all filters â†’</button>
        </div>
      </section>
    </div>
  </main>

  <!-- UNIVERSAL FOOTER (injected by hm-shell.js) -->
  <div id="hm-shell-footer"></div>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Shared shell (universal header/footer + menu + header session) -->
  <script src="scripts/hm-shell.js"></script>
  <!-- Browse page enhancements (skeleton loaders, filter chips) -->
  <script src="scripts/browse-enhancements.js"></script>

  <!-- Back to Top Button - Left side pill -->
  <button id="backToTop" class="back-to-top-pill" aria-label="Back to top" style="display:none;">
    <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 15l-6-6-6 6"/>
    </svg>
    Back to top
  </button>

  <style>
    .back-to-top-pill {
      position: fixed;
      bottom: 24px;
      left: 24px;
      background: #991b1b;
      color: #fff;
      border: none;
      border-radius: 999px;
      padding: 10px 16px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 14px rgba(153, 27, 27, 0.4);
      z-index: 99999;
      align-items: center;
      gap: 6px;
      transition: transform 0.2s, background 0.2s;
    }
    .back-to-top-pill:hover {
      transform: scale(1.05);
      background: #7f1d1d;
    }
    .back-to-top-pill svg {
      flex-shrink: 0;
    }
  </style>

  <script>
    // Back to top - with interval fallback
    (function() {
      var btn = document.getElementById('backToTop');
      console.log('Browse: Back to top button found:', btn);
      if (!btn) return;
      
      function checkScroll() {
        var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (scrollTop > 300) {
          btn.style.display = 'flex';
        } else {
          btn.style.display = 'none';
        }
      }
      
      window.addEventListener('scroll', checkScroll, { passive: true });
      document.addEventListener('scroll', checkScroll, { passive: true });
      setInterval(checkScroll, 500);
      
      btn.onclick = function(e) {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      };
    })();
  </script>

  <script>
    // Render shared header + footer
    window.HM && window.HM.renderShell({ currentPage: "browse" });
  </script>

  <!-- Browse page main script -->
  <script src="scripts/browse.js"></script>

<!-- GLOBAL CART HANDLER -->
  <script src="assets/add-to-cart.js" defer></script>

  <!-- Saved Search Button -->
  <script src="scripts/saved-search.js"></script>

</body>
</html>
