<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hemline Market ‚Äî Browse</title>
<meta name="theme-color" content="#333333"/>
<style>
  /* Brand tokens (matches home) */
  :root{
    --hm-charcoal:#333333; --hm-rosewood:#65000b; --hm-hunter:#355e3b; --hm-black:#000;
    --hm-bg:#fff; --hm-text:#111; --hm-muted:#6b7280;
    --hm-border:1px solid rgba(0,0,0,.12); --hm-shadow:0 8px 24px rgba(0,0,0,.08);
    --hm-radius:14px; --hm-gap:16px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--hm-bg);color:var(--hm-text);font:16px/1.45 system-ui,-apple-system,Segoe UI,Inter,Roboto,Helvetica,Arial}
  a{color:#111;text-decoration:none}
  a:hover{color:var(--hm-rosewood)}

  /* ===== Header (like homepage) ===== */
  .site-header{position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid rgba(0,0,0,.08);backdrop-filter:saturate(115%) blur(6px)}
  .site-header .row{max-width:1200px;margin:0 auto;height:64px;display:flex;align-items:center;gap:18px;padding:0 16px}
  .brand{display:flex;align-items:center;gap:10px;font-weight:900}
  .brand img{height:32px}
  .nav{display:flex;align-items:center;gap:18px;margin-left:8px}
  .nav a{font-weight:600}
  .spacer{flex:1}
  .icons{display:flex;align-items:center;gap:14px}
  .cta{background:#111;color:#fff;font-weight:900;border:1px solid #000;border-radius:999px;padding:8px 14px}
  .cta:hover{background:#222}

  /* ===== Layout ===== */
  main{max-width:1200px;margin:16px auto 40px;padding:0 16px;display:grid;grid-template-columns:320px 1fr;gap:20px}
  @media (max-width:980px){main{grid-template-columns:1fr}}
  .panel{position:sticky;top:72px;align-self:start;background:#fff;border:var(--hm-border);border-radius:16px;box-shadow:var(--hm-shadow);padding:12px;max-height:calc(100vh - 96px);overflow:auto}
  .group{border-bottom:var(--hm-border);padding:6px 0 10px}
  .group:last-child{border-bottom:0}
  .group summary{list-style:none;display:flex;justify-content:space-between;align-items:center;cursor:pointer;font-weight:800;padding:8px 6px}
  .group summary::-webkit-details-marker{display:none}
  .group .body{padding:6px}
  .checklist{display:grid;gap:8px;max-height:240px;overflow:auto;padding-right:4px}
  .row{display:flex;align-items:center;gap:10px}
  .chips{display:flex;flex-wrap:wrap;gap:8px;margin:6px 0 10px}
  .chip{display:inline-flex;align-items:center;gap:8px;background:#f3f4f6;border:var(--hm-border);border-radius:999px;padding:6px 10px;font-size:12px}
  .chip button{border:0;background:transparent;cursor:pointer;font-size:14px}
  .toolbar{display:flex;align-items:center;gap:10px;justify-content:flex-end;margin-bottom:10px}
  .select{padding:10px 12px;border:var(--hm-border);border-radius:10px}
  .input{padding:12px;border:var(--hm-border);border-radius:12px;width:100%}

  /* Results */
  #summary{margin:2px 0 8px;color:var(--hm-muted);font-size:13px}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
  @media (max-width:1100px){.grid{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:640px){.grid{grid-template-columns:1fr}}
  .card{background:#fff;border:var(--hm-border);border-radius:12px;overflow:hidden}
  .thumb{height:180px;background:repeating-linear-gradient(45deg,#0001 0 10px,#0000 10px 20px)}
  .body{padding:10px 12px}
  .title{font-weight:800;margin:0 0 6px}
  .meta{color:var(--hm-muted);font-size:12px}
  .price{font-weight:900;margin-top:4px}

  /* ===== Footer (like homepage) ===== */
  .site-footer{border-top:1px solid rgba(0,0,0,.08);padding:18px 0 26px;margin-top:40px;background:#fff}
  .site-footer .wrap{max-width:1200px;margin:0 auto;padding:0 16px;color:#111}
  .foot-links{display:flex;flex-wrap:wrap;gap:14px;align-items:center;justify-content:center;font-size:14px}
  .copyright{margin-top:8px;text-align:center;color:var(--hm-muted);font-size:13px}
  .dot::before{content:"‚Ä¢";margin:0 8px;color:var(--hm-muted)}
</style>
</head>
<body>

<!-- ===== Header (matches home; no search bar here) ===== -->
<header class="site-header">
  <div class="row">
    <a class="brand" href="/"><img src="/logo.png" alt="Hemline Market logo" onerror="this.style.display='none'"><span>Hemline Market</span></a>
    <nav class="nav" aria-label="Primary">
      <a href="/new">New Arrivals</a>
      <a href="/atelier">My Atelier</a>
      <a href="/browse.html">Browse</a>
    </nav>
    <div class="spacer"></div>
    <div class="icons">
      <a href="/favorites" aria-label="Favorites">‚ù§</a>
      <a href="/notifications" aria-label="Notifications">üîî</a>
      <a class="cta" href="/sell.html">List Item</a>
    </div>
  </div>
</header>

<main>
  <!-- ===== Filters ===== -->
  <aside class="panel" aria-label="Filters">
    <!-- Search within filters -->
    <div class="group">
      <details open>
        <summary>Search</summary>
        <div class="body">
          <input id="q" class="input" type="search" placeholder="Add search term" aria-label="Search term">
        </div>
      </details>
    </div>

    <div class="group">
      <details open>
        <summary>Department</summary>
        <div class="body checklist">
          <label class="row"><input type="checkbox" name="department" value="fashion">Fashion</label>
          <label class="row"><input type="checkbox" name="department" value="home">Home</label>
          <label class="row"><input type="checkbox" name="department" value="quilting">Quilting</label>
          <label class="row"><input type="checkbox" name="department" value="notions">Notions</label>
        </div>
      </details>
    </div>

    <!-- Fabric Content with "Any" -->
    <div class="group">
      <details open>
        <summary>Fabric Content</summary>
        <div id="contentList" class="body checklist">
          <label class="row"><input type="checkbox" name="content" value="__any__" data-any>Any</label>
          <label class="row"><input type="checkbox" name="content" value="acetate">Acetate</label>
          <label class="row"><input type="checkbox" name="content" value="acrylic">Acrylic</label>
          <label class="row"><input type="checkbox" name="content" value="alpaca">Alpaca</label>
          <label class="row"><input type="checkbox" name="content" value="bamboo">Bamboo</label>
          <label class="row"><input type="checkbox" name="content" value="cashmere">Cashmere</label>
          <label class="row"><input type="checkbox" name="content" value="cotton">Cotton</label>
          <label class="row"><input type="checkbox" name="content" value="cupro">Cupro</label>
          <label class="row"><input type="checkbox" name="content" value="elastane">Elastane/Spandex</label>
          <label class="row"><input type="checkbox" name="content" value="hemp">Hemp</label>
          <label class="row"><input type="checkbox" name="content" value="leather">Leather</label>
          <label class="row"><input type="checkbox" name="content" value="linen">Linen</label>
          <label class="row"><input type="checkbox" name="content" value="modal">Modal</label>
          <label class="row"><input type="checkbox" name="content" value="mohair">Mohair</label>
          <label class="row"><input type="checkbox" name="content" value="nylon">Nylon</label>
          <label class="row"><input type="checkbox" name="content" value="polyamide">Polyamide</label>
          <label class="row"><input type="checkbox" name="content" value="polyester">Polyester</label>
          <label class="row"><input type="checkbox" name="content" value="polyurethane">Polyurethane</label>
          <label class="row"><input type="checkbox" name="content" value="rayon">Rayon/Viscose</label>
          <label class="row"><input type="checkbox" name="content" value="silk">Silk</label>
          <label class="row"><input type="checkbox" name="content" value="tencel">Tencel</label>
          <label class="row"><input type="checkbox" name="content" value="triacetate">Triacetate</label>
          <label class="row"><input type="checkbox" name="content" value="wool">Wool</label>
        </div>
      </details>
    </div>

    <div class="group">
      <details open>
        <summary>Material Class</summary>
        <div class="body checklist">
          <label class="row"><input type="radio" name="material_class" value="" checked>Any</label>
          <label class="row"><input type="radio" name="material_class" value="natural">Natural</label>
          <label class="row"><input type="radio" name="material_class" value="modified_natural">Modified Natural</label>
          <label class="row"><input type="radio" name="material_class" value="synthetic">Synthetic</label>
          <label class="row"><input type="radio" name="material_class" value="blend">Blend</label>
        </div>
      </details>
    </div>

    <!-- Fabric Type with "Any" -->
    <div class="group">
      <details open>
        <summary>Fabric Type</summary>
        <div id="typeList" class="body checklist">
          <label class="row"><input type="checkbox" name="type" value="__any__" data-any>Any</label>
          <label class="row"><input type="checkbox" name="type" value="boucle">Boucl√©</label>
          <label class="row"><input type="checkbox" name="type" value="canvas">Canvas</label>
          <label class="row"><input type="checkbox" name="type" value="chiffon">Chiffon</label>
          <label class="row"><input type="checkbox" name="type" value="corduroy">Corduroy</label>
          <label class="row"><input type="checkbox" name="type" value="crepe">Crepe</label>
          <label class="row"><input type="checkbox" name="type" value="denim">Denim</label>
          <label class="row"><input type="checkbox" name="type" value="gabardine">Gabardine</label>
          <label class="row"><input type="checkbox" name="type" value="georgette">Georgette</label>
          <label class="row"><input type="checkbox" name="type" value="jersey">Jersey</label>
          <label class="row"><input type="checkbox" name="type" value="lace">Lace</label>
          <label class="row"><input type="checkbox" name="type" value="leather">Leather</label>
          <label class="row"><input type="checkbox" name="type" value="organza">Organza</label>
          <label class="row"><input type="checkbox" name="type" value="poplin">Poplin</label>
          <label class="row"><input type="checkbox" name="type" value="sateen">Sateen</label>
          <label class="row"><input type="checkbox" name="type" value="satin">Satin</label>
          <label class="row"><input type="checkbox" name="type" value="tulle">Tulle</label>
          <label class="row"><input type="checkbox" name="type" value="tweed">Tweed</label>
          <label class="row"><input type="checkbox" name="type" value="twill">Twill</label>
          <label class="row"><input type="checkbox" name="type" value="velvet">Velvet</label>
          <label class="row"><input type="checkbox" name="type" value="voile">Voile</label>
        </div>
      </details>
    </div>

    <div class="group">
      <details>
        <summary>Color Family</summary>
        <div class="body checklist" style="grid-template-columns:repeat(2,1fr)">
          <label class="row"><input type="checkbox" name="color" value="black"><span>Black</span></label>
          <label class="row"><input type="checkbox" name="color" value="grey"><span>Grey</span></label>
          <label class="row"><input type="checkbox" name="color" value="white"><span>White</span></label>
          <label class="row"><input type="checkbox" name="color" value="ivory"><span>Ivory</span></label>
          <label class="row"><input type="checkbox" name="color" value="brown"><span>Brown</span></label>
          <label class="row"><input type="checkbox" name="color" value="pink"><span>Pink</span></label>
          <label class="row"><input type="checkbox" name="color" value="red"><span>Red</span></label>
          <label class="row"><input type="checkbox" name="color" value="orange"><span>Orange</span></label>
          <label class="row"><input type="checkbox" name="color" value="yellow"><span>Yellow</span></label>
          <label class="row"><input type="checkbox" name="color" value="green"><span>Green</span></label>
          <label class="row"><input type="checkbox" name="color" value="blue"><span>Blue</span></label>
          <label class="row"><input type="checkbox" name="color" value="purple"><span>Purple</span></label>
          <label class="row"><input type="checkbox" name="color" value="silver"><span>Silver</span></label>
          <label class="row"><input type="checkbox" name="color" value="gold"><span>Gold</span></label>
        </div>
      </details>
    </div>

    <div class="group">
      <details open>
        <summary>Price (per yard)</summary>
        <div class="body" style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
          <input class="input" type="number" id="priceMin" placeholder="Min">
          <input class="input" type="number" id="priceMax" placeholder="Max">
        </div>
      </details>
    </div>

    <div class="group">
      <details>
        <summary>Width (in)</summary>
        <div class="body" style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
          <input class="input" type="number" id="widthMin" placeholder="Min">
          <input class="input" type="number" id="widthMax" placeholder="Max">
        </div>
      </details>
    </div>

    <div class="group">
      <details>
        <summary>Weight (GSM)</summary>
        <div class="body" style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
          <input class="input" type="number" id="weightMin" placeholder="Min">
          <input class="input" type="number" id="weightMax" placeholder="Max">
        </div>
      </details>
    </div>

    <div class="group">
      <details>
        <summary>Min Yards Available</summary>
        <div class="body">
          <input class="input" type="number" id="minYards" placeholder="e.g. 3" min="0.5" step="0.5">
          <div style="color:var(--hm-muted);font-size:12px;margin-top:6px">Sellers list in 0.5 yd increments</div>
        </div>
      </details>
    </div>
  </aside>

  <!-- ===== Results ===== -->
  <section>
    <div class="toolbar">
      <label for="sort" style="font-weight:700">Sort</label>
      <select id="sort" class="select">
        <option value="">Featured</option>
        <option value="newest">Newest</option>
        <option value="price_asc">Price (Low ‚Üí High)</option>
        <option value="price_desc">Price (High ‚Üí Low)</option>
        <option value="yards_desc">Yardage (High ‚Üí Low)</option>
        <option value="width_desc">Width (Wide ‚Üí Narrow)</option>
      </select>
    </div>
    <div id="chips" class="chips"></div>
    <div id="summary">Loading‚Ä¶</div>
    <div id="grid" class="grid"></div>
  </section>
</main>

<!-- ===== Footer (matches home) ===== -->
<footer class="site-footer">
  <div class="wrap">
    <div class="foot-links">
      <a href="/faq.html">FAQ</a><span class="dot"></span>
      <a href="/contact.html">Contact Us</a><span class="dot"></span>
      <a href="/feedback.html">Site Feedback</a><span class="dot"></span>
      <a href="/privacy.html">Privacy</a><span class="dot"></span>
      <a href="/terms.html">Terms &amp; Conditions</a><span class="dot"></span>
      <a href="/subscribe.html">Subscribe</a>
    </div>
    <div class="copyright">¬© 2025 Hemline Market</div>
  </div>
</footer>

<script>
(function(){
  // Demo data
  const DATA = [
    { id:'wool-crepe-1', title:'Sample Wool Crepe', pricePerYd:45, yards:12, widthIn:58, weightGsm:210, country:'italy', department:['fashion'], pattern:'solid', condition:'new', content:['wool'],  type:['crepe'],           colors:['black','grey'], created_at:'2025-08-25' },
    { id:'silk-twill-1', title:'Italian Silk Twill', pricePerYd:68, yards:6,  widthIn:54, weightGsm:90,  country:'italy', department:['fashion'], pattern:'pattern', condition:'washed', content:['silk'],  type:['twill','satin'],  colors:['blue','gold'],  created_at:'2025-08-26' },
    { id:'cotton-sateen-1', title:'Cotton Sateen',  pricePerYd:22, yards:20, widthIn:60, weightGsm:180, country:'usa',   department:['fashion','quilting'], pattern:'solid', condition:'used', content:['cotton'],type:['sateen'],        colors:['white','ivory'], created_at:'2025-08-20' },
    { id:'leather-lamb-1', title:'Lamb Leather Nappa', pricePerYd:95, yards:4, widthIn:48, weightGsm:600, country:'france', department:['fashion'], pattern:'solid', condition:'new', content:['leather'], type:['leather'], colors:['brown','black'], created_at:'2025-08-27' }
  ];

  const $ = (s,r=document)=>r.querySelector(s);
  const $$ = (s,r=document)=>Array.from(r.querySelectorAll(s));

  const qEl = $('#q');
  const grid = $('#grid');
  const summary = $('#summary');
  const chips = $('#chips');
  const sortSel = $('#sort');

  const priceMin=$('#priceMin'), priceMax=$('#priceMax');
  const widthMin=$('#widthMin'), widthMax=$('#widthMax');
  const weightMin=$('#weightMin'), weightMax=$('#weightMax');
  const minYards=$('#minYards');

  // Enforce 0.5 increments and min >= 0.5 for minYards
  function normalizeHalfSteps(input){
    let v = parseFloat(input.value);
    if (isNaN(v)) return input.value='';
    v = Math.max(0.5, v);
    v = Math.round(v*2)/2; // snap to 0.5
    input.value = v.toFixed( v%1===0 ? 0 : 1 );
  }
  ['change','blur','input'].forEach(ev=>{
    minYards.addEventListener(ev, ()=>{ normalizeHalfSteps(minYards); trigger(false); });
  });

  // Mutually exclusive "Any" for Fabric Content & Type
  function wireAny(listId, name){
    const list = $(listId);
    const any = list.querySelector('input[name="'+name+'"][data-any]');
    list.addEventListener('change', e=>{
      if (e.target.name!==name) return;
      if (e.target.hasAttribute('data-any')){
        // Any checked -> uncheck others
        if (e.target.checked) $$('input[name="'+name+'"]', list).forEach(i=>{ if(i!==e.target) i.checked=false; });
      } else {
        // Some specific checked -> uncheck Any
        if (e.target.checked) any.checked=false;
      }
      trigger(false);
    });
  }
  wireAny('#contentList','content');
  wireAny('#typeList','type');

  // Basic render
  function card(r){
    return `
      <article class="card">
        <div class="thumb" role="img" aria-label="${r.title} swatch"></div>
        <div class="body">
          <p class="title">${r.title}</p>
          <p class="meta">${r.yards} yd ‚Ä¢ ${r.widthIn}‚Ä≥ ‚Ä¢ ${r.country.toUpperCase()}</p>
          <p class="price">$${r.pricePerYd} / yd</p>
        </div>
      </article>
    `;
  }

  function activeChips(query){
    chips.innerHTML='';
    const add=(key,label,clear)=>{ const el=document.createElement('span'); el.className='chip'; el.dataset.key=key; el.innerHTML=`<span>${label}</span><button aria-label="Clear ${label}">‚úï</button>`; el.querySelector('button').onclick=()=>{ clear(); trigger(false); }; chips.appendChild(el); };
    if (query.q) add('q',`Search: ${query.q}`,()=> qEl.value='');

    ['department','content','type','color'].forEach(name=>{
      const selected = $$('input[name="'+name+'"]:checked').map(i=>i.value);
      if (!selected.length) return;
      if (selected.includes('__any__')) return; // Any means no chip
      const labels = $$('input[name="'+name+'"]:checked').map(i=>i.parentElement.textContent.trim());
      add(name, `${name[0].toUpperCase()+name.slice(1)}: ${labels.join(', ')}`, ()=>{
        $$('input[name="'+name+'"]:checked').forEach(i=>i.checked=false);
      });
    });

    const rng=(idMin,idMax,label)=>{
      const a=$(idMin).value, b=$(idMax).value;
      if (!a && !b) return;
      add(label, `${label}: ${a||'‚Äî'} to ${b||'‚Äî'}`, ()=>{ $(idMin).value=''; $(idMax).value=''; });
    };
    rng('#priceMin','#priceMax','Price/yd');
    rng('#widthMin','#widthMax','Width (in)');
    rng('#weightMin','#weightMax','Weight (GSM)');

    if (minYards.value){
      add('minYards', `Min yards: ${minYards.value}`, ()=>{ minYards.value=''; });
    }
  }

  function collect(){
    const q = (qEl.value||'').trim().toLowerCase();
    const sel = n => $$('input[name="'+n+'"]:checked').map(i=>i.value);
    return {
      q,
      department: sel('department'),
      content: sel('content'),
      type: sel('type'),
      color: sel('color'),
      priceMin: priceMin.value, priceMax: priceMax.value,
      widthMin: widthMin.value, widthMax: widthMax.value,
      weightMin: weightMin.value, weightMax: weightMax.value,
      minYards: minYards.value,
      sort: sortSel.value
    };
  }

  function filterRows(q){
    let rows = DATA.slice();

    if (q.q){
      rows = rows.filter(it=>{
        const hay = [it.title, ...(it.type||[]), ...(it.content||[])].join(' ').toLowerCase();
        return hay.includes(q.q);
      });
    }

    const multi = (field, selected) => {
      if (!selected.length || selected.includes('__any__')) return;
      rows = rows.filter(it => (it[field]||[]).some(v => selected.includes(v)));
    };
    multi('department', q.department);
    multi('content', q.content);
    multi('type', q.type);
    multi('colors', q.color);

    const range = (mn, mx, get) => {
      const a = mn ? Number(mn) : -Infinity;
      const b = mx ? Number(mx) : Infinity;
      rows = rows.filter(it => {
        const v = get(it);
        return v >= a && v <= b;
      });
    };
    range(q.priceMin, q.priceMax, it=>it.pricePerYd);
    range(q.widthMin, q.widthMax, it=>it.widthIn);
    range(q.weightMin, q.weightMax, it=>it.weightGsm);

    if (q.minYards){
      rows = rows.filter(it => it.yards >= Number(q.minYards));
    }

    switch(q.sort){
      case 'price_asc': rows.sort((a,b)=> a.pricePerYd - b.pricePerYd); break;
      case 'price_desc': rows.sort((a,b)=> b.pricePerYd - a.pricePerYd); break;
      case 'yards_desc': rows.sort((a,b)=> b.yards - a.yards); break;
      case 'width_desc': rows.sort((a,b)=> b.widthIn - a.widthIn); break;
      case 'newest': rows.sort((a,b)=> new Date(b.created_at) - new Date(a.created_at)); break;
      default: break;
    }

    return rows;
  }

  function render(rows){
    grid.innerHTML = rows.map(card).join('');
    summary.innerHTML = `<strong>Results</strong> ¬∑ ${rows.length} item${rows.length===1?'':'s'}`;
  }

  function trigger(updateChips=true){
    const q = collect();
    if (updateChips) activeChips(q);
    const rows = filterRows(q);
    render(rows);
  }

  // Events
  [qEl, priceMin, priceMax, widthMin, widthMax, weightMin, weightMax].forEach(el=>{
    el.addEventListener('input', ()=> trigger(false));
    el.addEventListener('change', ()=> trigger());
  });
  sortSel.addEventListener('change', ()=> trigger());

  // Checkboxes
  ['department','content','type','color'].forEach(name=>{
    document.addEventListener('change', e=>{
      if (e.target.name===name) trigger();
    });
  });

  // First paint
  trigger();
})();
</script>
</body>
</html>
