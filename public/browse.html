<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Browse Fabrics ‚Ä¢ Hemline Market</title>
  <style>
    :root{
      --container:1200px; --pad:20px; --brand:#800000;
      --ink:#111; --muted:#555; --card:#fff; --border:#e5e7eb; --radius:12px
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:#f7f7f8}

    /* Header */
    header{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid #eee;height:56px;display:flex;align-items:center}
    .container{max-width:var(--container);margin-inline:auto;padding-inline:var(--pad);width:100%}
    .nav-row{display:flex;align-items:center;justify-content:space-between}
    .brand{color:var(--brand);font-weight:800;text-decoration:none}
    .nav-right{display:flex;gap:14px;align-items:center}
    .icon-link{font-size:18px;text-decoration:none;color:var(--ink)}
    .cta-outline{color:var(--brand);border:2px solid var(--brand);padding:6px 12px;border-radius:8px;font-weight:800;text-decoration:none;background:#fff}

    /* Layout */
    .wrap{max-width:var(--container);margin-inline:auto;padding:24px var(--pad);display:grid;grid-template-columns:300px 1fr;gap:22px}
    @media (max-width:980px){.wrap{grid-template-columns:1fr}}
    .page-title{font-size:28px;font-weight:800;margin-bottom:10px}
    .subtitle{color:var(--muted);margin-bottom:18px}

    /* Sidebar filters */
    .filters{background:#fff;border:1px solid var(--border);border-radius:var(--radius);padding:16px;position:sticky;top:72px;height:max-content}
    .f-head{font-weight:800;margin-bottom:10px}
    .f-group{border-top:1px solid var(--border);padding-top:12px;margin-top:12px}
    .f-group:first-of-type{border-top:0;margin-top:0;padding-top:0}
    .group-title{font-weight:800}
    .f-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .chip{
      border:1px solid var(--border);border-radius:999px;padding:6px 10px;font-size:13px;background:#fff;cursor:pointer
    }
    .chip.active{background:#111;color:#fff;border-color:#111}
    /* color swatch dot */
    .chip.swatch{position:relative;padding-left:28px}
    .chip.swatch::before{
      content:"";position:absolute;left:10px;top:50%;transform:translateY(-50%);
      width:12px;height:12px;border-radius:50%;background:var(--sw,#888);border:1px solid rgba(0,0,0,.2)
    }

    .range{display:flex;gap:8px}
    .range input{width:100%;padding:8px;border:1px solid var(--border);border-radius:8px}
    .apply{margin-top:12px;width:100%;background:var(--brand);color:#fff;border:0;border-radius:8px;padding:10px;font-weight:800;cursor:pointer}
    .clear{margin-top:8px;width:100%;background:#fff;color:#111;border:1px solid var(--border);border-radius:8px;padding:9px;font-weight:700;cursor:pointer}

    /* Results */
    .results-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;gap:12px}
    .searchbox{display:flex;gap:8px;align-items:center;flex:1;max-width:460px}
    .searchbox input{flex:1;border:1px solid var(--border);border-radius:999px;padding:10px 12px}
    .searchbox button{background:#000;color:#fff;border:0;border-radius:999px;padding:10px 14px;font-weight:700;cursor:pointer}
    .sort{border:1px solid var(--border);border-radius:8px;padding:9px 10px;background:#fff}

    .grid{display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}
    @media (max-width:1080px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:640px){.grid{grid-template-columns:1fr}}
    .card{background:#fff;border:1px solid var(--border);border-radius:var(--radius);padding:12px;display:flex;flex-direction:column;gap:10px}
    .thumb{width:100%;aspect-ratio:1/1;border:1px solid var(--border);border-radius:10px;background:#fafafa;display:block;object-fit:cover}
    .title{font-weight:800}
    .meta{font-size:12px;color:#777}
    .price{font-weight:800;margin-top:auto}
    .add{margin-top:6px;background:#5b21b6;color:#fff;border:0;border-radius:8px;padding:10px;font-weight:800;cursor:pointer}

    footer{margin-top:36px;border-top:1px solid #eee;background:#fff}
    .footer-links{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;padding:16px;color:#666}
    .footer-links a{color:#666;text-decoration:none}
    .copy{color:#777;text-align:center;padding:0 0 16px 0;font-size:13px}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container nav-row">
      <a class="brand" href="/">Hemline Market</a>
      <div class="nav-right">
        <a class="icon-link" href="/favorites.html" title="Favorites" aria-label="Favorites">‚ù§Ô∏è</a>
        <a class="icon-link" href="/notifications.html" title="Notifications" aria-label="Notifications">üîî</a>
        <a class="icon-link" href="/account.html" title="My Account" aria-label="My Account">üë§</a>
        <a class="cta-outline" href="/seller/list.html">List Item</a>
      </div>
    </div>
  </header>

  <div class="wrap">
    <!-- Sidebar -->
    <aside class="filters" id="filters">
      <div class="f-head">Filters</div>

      <!-- FABRIC CONTENT -->
      <div class="f-group">
        <div class="group-title">Fabric Content</div>
        <div class="f-row" data-filter="content">
          <button class="chip">Silk</button>
          <button class="chip">Wool</button>
          <button class="chip">Cotton</button>
          <button class="chip">Linen</button>
          <button class="chip">Rayon / Viscose</button>
          <button class="chip">Lyocell / Tencel</button>
          <button class="chip">Modal</button>
          <button class="chip">Bamboo</button>
          <button class="chip">Hemp</button>
          <button class="chip">Cashmere</button>
          <button class="chip">Mohair</button>
          <button class="chip">Alpaca</button>
          <button class="chip">Polyester</button>
          <button class="chip">Nylon</button>
          <button class="chip">Spandex / Elastane</button>
          <button class="chip">Acrylic</button>
          <button class="chip">Acetate</button>
          <button class="chip">Triacetate</button>
          <button class="chip">Cupro</button>
          <button class="chip">Leather</button>
          <button class="chip">Suede</button>
          <button class="chip">Deadstock</button>
          <button class="chip">Blend</button>
        </div>
      </div>

      <!-- COLOR -->
      <div class="f-group">
        <div class="group-title">Color</div>
        <div class="f-row" data-filter="color">
          <button class="chip swatch" style="--sw:#ffffff">White</button>
          <button class="chip swatch" style="--sw:#f7efe3">Ivory</button>
          <button class="chip swatch" style="--sw:#e7dbc8">Beige</button>
          <button class="chip swatch" style="--sw:#bfa48b">Taupe</button>
          <button class="chip swatch" style="--sw:#f2c6c2">Blush</button>
          <button class="chip swatch" style="--sw:#ff8aa1">Pink</button>
          <button class="chip swatch" style="--sw:#ff7f50">Coral</button>
          <button class="chip swatch" style="--sw:#cc0000">Red</button>
          <button class="chip swatch" style="--sw:#751d1d">Burgundy</button>
          <button class="chip swatch" style="--sw:#ff8800">Orange</button>
          <button class="chip swatch" style="--sw:#b2592a">Rust</button>
          <button class="chip swatch" style="--sw:#ffd400">Yellow</button>
          <button class="chip swatch" style="--sw:#b38b00">Mustard</button>
          <button class="chip swatch" style="--sw:#a3d900">Lime</button>
          <button class="chip swatch" style="--sw:#2f7d32">Green</button>
          <button class="chip swatch" style="--sw:#0e5135">Forest</button>
          <button class="chip swatch" style="--sw:#008080">Teal</button>
          <button class="chip swatch" style="--sw:#40e0d0">Turquoise</button>
          <button class="chip swatch" style="--sw:#7dd3fc">Sky</button>
          <button class="chip swatch" style="--sw:#3467eb">Blue</button>
          <button class="chip swatch" style="--sw:#0f1a44">Navy</button>
          <button class="chip swatch" style="--sw:#24324a">Indigo</button>
          <button class="chip swatch" style="--sw:#7c3aed">Purple</button>
          <button class="chip swatch" style="--sw:#c3b1e1">Lavender</button>
          <button class="chip swatch" style="--sw:#4b2142">Plum</button>
          <button class="chip swatch" style="--sw:#8b5e3c">Brown</button>
          <button class="chip swatch" style="--sw:#c2a689">Camel</button>
          <button class="chip swatch" style="--sw:#4e342e">Chocolate</button>
          <button class="chip swatch" style="--sw:#bdbdbd">Grey</button>
          <button class="chip swatch" style="--sw:#333333">Charcoal</button>
          <button class="chip swatch" style="--sw:#000000">Black</button>
          <button class="chip swatch" style="--sw:conic-gradient(#f00,#0f0,#00f,#f00)">Multicolor</button>
        </div>
      </div>

      <!-- Pattern -->
      <div class="f-group">
        <div class="group-title">Pattern</div>
        <div class="f-row" data-filter="pattern">
          <button class="chip">Solid</button>
          <button class="chip">Stripe</button>
          <button class="chip">Check</button>
          <button class="chip">Floral</button>
          <button class="chip">Abstract</button>
        </div>
      </div>

      <!-- Stretch -->
      <div class="f-group">
        <div class="group-title">Stretch</div>
        <div class="f-row" data-filter="stretch">
          <button class="chip">No-stretch</button>
          <button class="chip">1-way</button>
          <button class="chip">2-way</button>
          <button class="chip">4-way</button>
        </div>
      </div>

      <!-- Finish -->
      <div class="f-group">
        <div class="group-title">Finish</div>
        <div class="f-row" data-filter="finish">
          <button class="chip">Matte</button>
          <button class="chip">Satin</button>
          <button class="chip">Sheen</button>
          <button class="chip">Textured</button>
        </div>
      </div>

      <!-- Country -->
      <div class="f-group">
        <div class="group-title">Country</div>
        <div class="f-row" data-filter="country">
          <button class="chip">USA</button>
          <button class="chip">Italy</button>
          <button class="chip">Japan</button>
          <button class="chip">India</button>
          <button class="chip">UK</button>
        </div>
      </div>

      <!-- Ranges -->
      <div class="f-group">
        <div class="group-title">Width (in)</div>
        <div class="range"><input type="number" id="wMin" placeholder="min"><input type="number" id="wMax" placeholder="max"></div>
      </div>
      <div class="f-group">
        <div class="group-title">Weight (gsm)</div>
        <div class="range"><input type="number" id="gMin" placeholder="min"><input type="number" id="gMax" placeholder="max"></div>
      </div>
      <div class="f-group">
        <div class="group-title">Price ($)</div>
        <div class="range"><input type="number" id="pMin" placeholder="min"><input type="number" id="pMax" placeholder="max"></div>
      </div>
      <div class="f-group">
        <div class="group-title">Yardage (min)</div>
        <div class="range"><input type="number" id="yMin" placeholder="yards"></div>
      </div>

      <!-- Availability -->
      <div class="f-group">
        <div class="group-title">Availability</div>
        <div class="f-row" data-filter="availability">
          <button class="chip">In stock</button>
          <button class="chip">Made to order</button>
        </div>
      </div>

      <button class="apply" id="applyBtn">Apply Filters</button>
      <button class="clear" id="clearBtn">Clear All</button>
    </aside>

    <!-- Results -->
    <main>
      <div class="results-head">
        <div>
          <div class="page-title">Browse Fabrics</div>
          <div class="subtitle">Explore curated fabrics and handmade sewing items.</div>
        </div>
        <form class="searchbox" action="/browse.html" method="get">
          <input type="text" name="q" id="q" placeholder="Search‚Ä¶" />
          <button type="submit">Search</button>
        </form>
        <select id="sort" class="sort" aria-label="Sort results">
          <option value="relevance">Sort: Relevance</option>
          <option value="price-asc">Price: Low ‚Üí High</option>
          <option value="price-desc">Price: High ‚Üí Low</option>
          <option value="newest">Newest</option>
        </select>
      </div>

      <!-- Grid (sample data with data- attributes) -->
      <div class="grid" id="product-grid">
        <div class="card listing-card"
             data-content="Silk" data-color="Ivory" data-pattern="Solid" data-stretch="No-stretch"
             data-finish="Satin" data-country="Italy" data-width="44" data-weight="80"
             data-price="60" data-yards="3" data-availability="In stock" data-created="2025-08-15">
          <img class="thumb" src="/images/placeholder.png" alt="">
          <div class="title">Silk Charmeuse</div>
          <div class="meta">Italy ‚Ä¢ 44" ‚Ä¢ 80 gsm ‚Ä¢ Satin</div>
          <div class="price">$60.00</div>
          <button class="add">Add to Cart</button>
        </div>

        <div class="card listing-card"
             data-content="Cotton" data-color="White" data-pattern="Solid" data-stretch="No-stretch"
             data-finish="Matte" data-country="Japan" data-width="45" data-weight="120"
             data-price="22" data-yards="6" data-availability="In stock" data-created="2025-08-11">
          <img class="thumb" src="/images/placeholder.png" alt="">
          <div class="title">Japanese Cotton Lawn</div>
          <div class="meta">Japan ‚Ä¢ 45" ‚Ä¢ 120 gsm ‚Ä¢ Matte</div>
          <div class="price">$22.00</div>
          <button class="add">Add to Cart</button>
        </div>

        <div class="card listing-card"
             data-content="Wool" data-color="Charcoal" data-pattern="Solid" data-stretch="No-stretch"
             data-finish="Sheen" data-country="Italy" data-width="58" data-weight="280"
             data-price="45" data-yards="4" data-availability="In stock" data-created="2025-08-10">
          <img class="thumb" src="/images/placeholder.png" alt="">
          <div class="title">Italian Wool Crepe</div>
          <div class="meta">Italy ‚Ä¢ 58" ‚Ä¢ 280 gsm ‚Ä¢ Sheen</div>
          <div class="price">$45.00</div>
          <button class="add">Add to Cart</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-links">
        <a href="/about.html">About</a> ‚Ä¢
        <a href="/contact.html">Contact</a> ‚Ä¢
        <a href="/faq.html">FAQ</a> ‚Ä¢
        <a href="/privacy.html">Privacy</a> ‚Ä¢
        <a href="/terms.html">Terms</a> ‚Ä¢
        <a href="/shipping.html">Shipping</a> ‚Ä¢
        <a href="/returns.html">Returns</a>
      </div>
      <div class="copy">¬© 2025 Hemline Market</div>
    </div>
  </footer>

  <script>
    // Helpers
    const norm = s => (s||"").toString().trim().toLowerCase();

    // Prefill search from ?q=
    const params = new URLSearchParams(location.search);
    const q = params.get('q') || '';
    document.getElementById('q').value = q;

    // Chip toggles
    document.querySelectorAll('.chip').forEach(chip=>{
      chip.addEventListener('click', ()=> chip.classList.toggle('active'));
    });

    function getActive(filter){
      return [...document.querySelectorAll(`[data-filter="${filter}"] .chip.active`)]
             .map(c=>norm(c.textContent));
    }

    function applyFilters(){
      const content = getActive('content');
      const colors  = getActive('color');
      const pats    = getActive('pattern');
      const stre    = getActive('stretch');
      const fini    = getActive('finish');
      const cntr    = getActive('country');
      const avai    = getActive('availability');

      const wMin = parseFloat(document.getElementById('wMin').value)||-Infinity;
      const wMax = parseFloat(document.getElementById('wMax').value)||Infinity;
      const gMin = parseFloat(document.getElementById('gMin').value)||-Infinity;
      const gMax = parseFloat(document.getElementById('gMax').value)||Infinity;
      const pMin = parseFloat(document.getElementById('pMin').value)||-Infinity;
      const pMax = parseFloat(document.getElementById('pMax').value)||Infinity;
      const yMin = parseFloat(document.getElementById('yMin').value)||-Infinity;

      const query = norm(document.getElementById('q').value);

      document.querySelectorAll('.listing-card').forEach(card=>{
        const v = k => norm(card.dataset[k]);
        const width  = parseFloat(card.dataset.width||'NaN');
        const weight = parseFloat(card.dataset.weight||'NaN');
        const price  = parseFloat(card.dataset.price||'NaN');
        const yards  = parseFloat(card.dataset.yards||'NaN');
        const title  = norm(card.querySelector('.title')?.textContent);

        let show = true;

        if (content.length && !content.includes(v('content'))) show=false;
        if (colors.length  && !colors.includes(v('color')))   show=false;
        if (pats.length    && !pats.includes(v('pattern')))   show=false;
        if (stre.length    && !stre.includes(v('stretch')))   show=false;
        if (fini.length    && !fini.includes(v('finish')))    show=false;
        if (cntr.length    && !cntr.includes(v('country')))   show=false;
        if (avai.length    && !avai.includes(v('availability'))) show=false;

        if (!(width>=wMin && width<=wMax)) show=false;
        if (!(weight>=gMin && weight<=gMax)) show=false;
        if (!(price>=pMin && price<=pMax)) show=false;
        if (!(yards>=yMin)) show=false;

        if (query && !title.includes(query)) show=false;

        card.style.display = show ? '' : 'none';
      });

      sortGrid();
    }

    function sortGrid(){
      const sort = document.getElementById('sort').value;
      const grid = document.getElementById('product-grid');
      const cards = [...grid.children];

      const byNum  = (el, key) => parseFloat(el.dataset[key]||'NaN')||0;
      const byDate = el => new Date(el.dataset.created||'1970-01-01').getTime();

      if (sort === 'price-asc')  cards.sort((a,b)=> byNum(a,'price') - byNum(b,'price'));
      if (sort === 'price-desc') cards.sort((a,b)=> byNum(b,'price') - byNum(a,'price'));
      if (sort === 'newest')     cards.sort((a,b)=> byDate(b) - byDate(a));

      cards.forEach(c=>grid.appendChild(c));
    }

    document.getElementById('applyBtn').addEventListener('click', applyFilters);
    document.getElementById('clearBtn').addEventListener('click', ()=>{
      document.querySelectorAll('.chip.active').forEach(c=>c.classList.remove('active'));
      ['wMin','wMax','gMin','gMax','pMin','pMax','yMin'].forEach(id=>document.getElementById(id).value='');
      document.getElementById('q').value='';
      document.getElementById('sort').value='relevance';
      applyFilters();
    });

    document.getElementById('sort').addEventListener('change', sortGrid);

    // Initialize
    if (q) applyFilters(); else sortGrid();
  </script>
</body>
</html>
