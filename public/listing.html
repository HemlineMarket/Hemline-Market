<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="description" content="Hemline Market — Product detail with transparent specs, large photos, and accessible controls.">
<title>Hemline Market — Listing</title>
<meta name="theme-color" content="#333333"/>
<style>
  :root{
    --hm-charcoal:#333333; --hm-rosewood:#65000b; --hm-hunter:#355e3b; --hm-black:#000;
    --hm-text:#333333; --hm-muted:#6b7280; --hm-bg:#fff;
    --hm-border:1px solid rgba(0,0,0,.12); --hm-shadow:0 8px 24px rgba(0,0,0,.08);
    --hm-cta:#65000b;
  }
  *{box-sizing:border-box}
  html,body{margin:0;color:var(--hm-text);font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#f7f7f7}
  a{text-decoration:none;color:#000} a:hover{color:var(--hm-rosewood)}
  img{max-width:100%;display:block}

  /* ✅ Visible focus for keyboard users */
  :focus-visible{ outline:3px solid var(--hm-rosewood); outline-offset:2px; border-radius:6px; }

  /* Header */
  .hm-header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.9);backdrop-filter:saturate(120%) blur(6px);border-bottom:1px solid rgba(0,0,0,.08)}
  .hm-header-inner{height:90px;max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:20px;padding:0 16px}
  .hm-logo img{height:80px}
  .hm-nav{display:flex;gap:20px;align-items:center;flex-wrap:wrap}
  .hm-nav a{font-weight:700}
  .hm-nav .cta{font-weight:900;padding:10px 18px;border-radius:999px;background:var(--hm-cta);color:#fff;border:1px solid #000}
  .cart-link{position:relative;padding-right:10px}
  .cart-count{position:absolute;top:-8px;right:-12px;min-width:20px;height:20px;border-radius:999px;background:#111;color:#fff;display:inline-flex;align-items:center;justify-content:center;font-size:12px;font-weight:800;border:1px solid #000}

  /* Layout */
  .wrap{max-width:1100px;margin:24px auto 48px;padding:0 16px;display:grid;grid-template-columns:1.1fr .9fr;gap:24px}
  @media (max-width:980px){.wrap{grid-template-columns:1fr}}

  .card{background:#fff;border:var(--hm-border);border-radius:18px;box-shadow:var(--hm-shadow)}
  .card h2{margin:0;padding:16px 18px;border-bottom:1px solid rgba(0,0,0,.12)}
  .card-body{padding:18px}

  /* Gallery */
  .gallery{display:grid;grid-template-columns:1fr;gap:12px}
  .hero{height:460px;border-radius:14px;overflow:hidden;background:linear-gradient(0deg,#e9e9e9,#f5f5f5);border:var(--hm-border)}
  .hero img{width:100%;height:100%;object-fit:cover}
  .thumbs{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
  .t{height:92px;border-radius:12px;overflow:hidden;border:var(--hm-border);background:#fff}
  .t img{width:100%;height:100%;object-fit:cover}

  /* Detail */
  .title{font-weight:900;font-size:22px;margin:0}
  .meta{color:var(--hm-muted);font-size:13px;margin-top:2px}
  .price{font-weight:900;font-size:20px;margin-top:8px}
  .controls{display:flex;gap:10px;align-items:center;margin-top:14px;flex-wrap:wrap}
  .qty{display:flex;align-items:center;gap:6px}
  .qty input{width:64px;text-align:center;padding:10px;border:var(--hm-border);border-radius:10px}
  .btn{border:var(--hm-border);background:#fff;border-radius:12px;padding:12px 16px;font-weight:800;cursor:pointer}
  .btn-primary{background:var(--hm-cta);color:#fff;border-color:#000}
  .fav{display:inline-flex;align-items:center;gap:8px;border-radius:999px;border:var(--hm-border);padding:10px 14px;background:#fff;cursor:pointer}

  /* Specs */
  .specs{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px}
  @media (max-width:640px){.specs{grid-template-columns:1fr}}
  .spec{border:var(--hm-border);border-radius:12px;padding:12px;background:#fff}
  .spec h4{margin:0 0 6px;font-size:13px;color:#111}
  .spec p{margin:0;color:var(--hm-muted);font-size:13px}

  /* Toast */
  .toast{
    position:fixed; right:18px; bottom:18px; z-index:60;
    background:#0b0b0b; color:#fff; border:1px solid #000; 
    border-radius:999px; padding:10px 14px; font-weight:800;
    display:flex; align-items:center; gap:10px; opacity:0; transform:translateY(8px) scale(.98);
    box-shadow:0 10px 30px rgba(0,0,0,.35); pointer-events:none;
    transition:opacity .18s ease, transform .18s ease;
  }
  .toast.show{opacity:1; transform:translateY(0) scale(1)}
  .toast .check{
    width:18px; height:18px; border-radius:50%; background:#22c55e;
    display:inline-flex; align-items:center; justify-content:center; color:#000; font-size:14px; font-weight:900;
    border:1px solid #0a0a0a; box-shadow:inset 0 1px 0 rgba(255,255,255,.25);
  }
</style>
</head>
<body>

<header class="hm-header">
  <div class="hm-header-inner">
    <a class="hm-logo" href="/" aria-label="Hemline Market home">
      <img src="/logo.png" alt="Hemline Market logo" onerror="this.style.display='none'">
    </a>
    <nav class="hm-nav" aria-label="Primary">
      <a href="/catalog.html">Browse</a>
      <a href="/favorites" aria-label="Favorites">❤ Favorites</a>
      <a href="/account">My Account</a>
      <a href="/cart.html" class="cart-link" aria-label="Shopping cart">Cart <span class="cart-count" data-cart-count>0</span></a>
      <a class="cta" href="/list">List Item</a>
    </nav>
  </div>
</header>

<main class="wrap" aria-labelledby="productTitle">
  <!-- Left: Gallery -->
  <section class="card" aria-label="Image gallery">
    <h2 style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden">Gallery</h2>
    <div class="card-body">
      <div class="gallery">
        <figure class="hero" aria-label="Primary product image">
          <img id="heroImg" src="https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=1600&auto=format&fit=crop" alt="Italian Silk Twill — Navy chain motif">
        </figure>
        <div class="thumbs" role="list" aria-label="Thumbnails">
          <button class="t" aria-label="Show image 1"><img src="https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=600&auto=format&fit=crop" alt=""></button>
          <button class="t" aria-label="Show image 2"><img src="https://images.unsplash.com/photo-1523380744952-b7d0814e1e1f?q=80&w=600&auto=format&fit=crop" alt=""></button>
          <button class="t" aria-label="Show image 3"><img src="https://images.unsplash.com/photo-1542060748-10c28b62716b?q=80&w=600&auto=format&fit=crop" alt=""></button>
          <button class="t" aria-label="Show image 4"><img src="https://images.unsplash.com/photo-1503341455253-b2e723bb3dbb?q=80&w=600&auto=format&fit=crop" alt=""></button>
        </div>
      </div>
    </div>
  </section>

  <!-- Right: Details -->
  <section class="card" aria-label="Product details">
    <h2 id="productTitle" class="title" style="padding:16px 18px;border-bottom:1px solid rgba(0,0,0,.12)">Italian Silk Twill — Navy Chain</h2>
    <div class="card-body">
      <div class="meta">SKU swatch-001 · 54″ width · Italy</div>
      <div class="price" aria-live="polite">$68.00 / yd</div>

      <div class="controls" aria-label="Purchase options">
        <div class="qty">
          <label for="qty" class="visually-hidden" style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden">Quantity (yards)</label>
          <input id="qty" type="number" min="0.5" step="0.5" value="1" aria-label="Quantity in yards">
          <span class="meta">yd</span>
        </div>
        <button id="addCart" class="btn btn-primary" aria-label="Add to cart">Add to cart</button>
        <button id="fav" class="fav" aria-pressed="false" aria-label="Save to favorites">❤ Save</button>
      </div>

      <div class="specs" aria-label="Specifications">
        <div class="spec">
          <h4>Content</h4>
          <p>100% Silk</p>
        </div>
        <div class="spec">
          <h4>Type</h4>
          <p>Twill</p>
        </div>
        <div class="spec">
          <h4>Weight</h4>
          <p>95 GSM</p>
        </div>
        <div class="spec">
          <h4>Pattern</h4>
          <p>Chain motif · Navy</p>
        </div>
        <div class="spec">
          <h4>Department</h4>
          <p>Fashion</p>
        </div>
        <div class="spec">
          <h4>Seller Notes</h4>
          <p>Fluid drape; light structure; dry clean; minor loom lines near selvage.</p>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Toast -->
<div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">
  <span class="check">✓</span>
  <span id="toastText">Saved</span>
</div>

<script>
/* Accessible interactions: thumbnails, favorites, add-to-cart, and cart badge */
(function(){
  const CART_KEY='hm_cart_v1';
  const FAV_KEY='hm_favs_v1';

  const $=(s,r=document)=>r.querySelector(s);
  const $$=(s,r=document)=>Array.from(r.querySelectorAll(s));
  const fmt=n=>'$'+(Number(n||0)).toFixed(2);

  function read(k){ try{return JSON.parse(localStorage.getItem(k)||'[]');}catch(e){return [];} }
  function write(k,v){ localStorage.setItem(k, JSON.stringify(v)); }
  function syncCount(){
    const count = read(CART_KEY).reduce((n,i)=>n+(Number(i.qty)||1),0);
    document.querySelectorAll('[data-cart-count]').forEach(el=>el.textContent=count);
  }
  function showToast(msg){
    const t=$('#toast'); const txt=$('#toastText');
    if(!t) return; if(txt) txt.textContent = msg||'Saved';
    t.classList.add('show'); clearTimeout(showToast._t);
    showToast._t=setTimeout(()=>t.classList.remove('show'),1600);
  }

  // Thumbnails -> hero
  const hero = $('#heroImg');
  $$('.thumbs .t').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const img = btn.querySelector('img'); if(!img) return;
      hero.src = img.src.replace(/w=\d+/, 'w=1600');
      hero.parentElement.setAttribute('aria-label','Primary product image (updated)');
    });
  });

  // Favorites toggle
  const favBtn = $('#fav');
  function isFav(sku){ return read(FAV_KEY).some(f=>f.sku===sku); }
  function toggleFav(item){
    const favs = read(FAV_KEY);
    const i = favs.findIndex(f=>f.sku===item.sku);
    if(i>-1) favs.splice(i,1); else favs.push(item);
    write(FAV_KEY, favs);
  }
  const item = {sku:'swatch-001', name:'Italian Silk Twill — Navy Chain', price:68, image:hero.src};
  function updateFavUI(){
    const active = isFav(item.sku);
    favBtn.setAttribute('aria-pressed', String(active));
    favBtn.textContent = active ? '❤ Saved' : '❤ Save';
  }
  favBtn.addEventListener('click', ()=>{
    toggleFav(item); updateFavUI(); showToast(isFav(item.sku)?'Saved to Favorites':'Removed from Favorites');
  });
  updateFavUI();

  // Add to cart
  $('#addCart')?.addEventListener('click', ()=>{
    const qty = Math.max(0.5, Number($('#qty').value)||1);
    const cart = read(CART_KEY);
    const i = cart.findIndex(c=>c.sku===item.sku);
    if(i>-1){ cart[i].qty = (Number(cart[i].qty)||1) + qty; }
    else { cart.push({sku:item.sku,name:item.name,price:item.price,qty:qty,image:item.image}); }
    write(CART_KEY, cart); syncCount(); showToast('Added to cart');
  });

  // Init
  syncCount();
})();
</script>

</body>
</html>
