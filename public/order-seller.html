<!-- File: public/order-seller.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Order Detail — Hemline Market</title>

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">

  <style>
    :root{
      --hm-accent:#991b1b; --hm-text:#111827; --hm-muted:#6b7280;
      --hm-border:#e5e7eb; --hm-bg:#fafafa;
    }
    body{margin:0;background:var(--hm-bg);color:var(--hm-text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased}

    .wrap{max-width:900px;margin:16px auto;padding:0 12px}

    h1{margin:0 0 16px;font-size:22px}
    .card{background:#fff;border:1px solid var(--hm-border);border-radius:12px;padding:16px;margin-bottom:18px}
    .row{margin:6px 0}
    .label{font-weight:600}
    .pill{display:inline-grid;place-items:center;padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700;border:1px solid var(--hm-border)}
    .pill.orange{color:#7c2d12;border-color:#fed7aa;background:#fff7ed}
    .pill.green{color:#065f46;border-color:#a7f3d0;background:#ecfdf5}
    .btn{background:var(--hm-accent);color:#fff;border:0;border-radius:8px;padding:8px 14px;font-weight:700;text-decoration:none;cursor:pointer}
    .btn-outline{background:#fff;color:var(--hm-accent);border:1px solid var(--hm-border)}
    .actions{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}

    /* Footer */
    .hm-footer{background:#fff;border-top:1px solid var(--hm-border);margin-top:28px}
    .hm-footer .footer-wrap{max-width:900px;margin:0 auto;padding:12px 16px;
      display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between}
    .hm-footer .footer-links a{color:#4b5563;text-decoration:none}
    .hm-footer .footer-links a:hover{text-decoration:underline}
  </style>
</head>
<body>

<header class="hm-header" role="banner" style="background:#fff;border-bottom:1px solid var(--hm-border);min-height:56px">
  <div class="wrap" style="display:flex;align-items:center;justify-content:space-between">
    <a class="hm-brand" href="index.html" style="font-size:24px;font-weight:800;color:var(--hm-accent);text-decoration:none">Hemline Market</a>
    <a class="btn-outline" href="orders-seller.html">← Back to orders</a>
  </div>
</header>

<main class="wrap">
  <h1>Order HM-548729</h1>

  <section class="card">
    <div class="row"><span class="label">Status:</span> <span class="pill orange">Label purchased</span></div>
    <div class="row"><span class="label">Buyer:</span> Jamie L.</div>
    <div class="row"><span class="label">Placed:</span> Sep 6, 2025</div>
    <div class="row"><span class="label">Items:</span> Wool Crepe — Saffron (2 yards)</div>
    <div class="row"><span class="label">Ship to:</span> 123 Main St, Boston, MA 02116</div>
    <div class="actions">
      <a class="btn" id="downloadLabel">Download Label (PDF)</a>
    </div>
  </section>

  <section class="card">
    <h2 style="margin-top:0;font-size:18px">Payment & Payout</h2>
    <div class="row"><span class="label">Total Paid:</span> $64.00</div>
    <div class="row"><span class="label">Your Earnings:</span> $56.00 (after fees)</div>
    <div class="row"><span class="label">Payout Status:</span> Pending</div>
  </section>
</main>

<footer class="hm-footer" role="contentinfo">
  <div class="footer-wrap">
    <div class="copy">© 2025 Hemline Market</div>
    <nav class="footer-links">
      <a href="about.html">About</a>
      <a href="faq.html">FAQ</a>
      <a href="contact.html">Contact</a>
      <a href="terms.html">Terms</a>
      <a href="privacy.html">Privacy</a>
    </nav>
  </div>
</footer>

<script>
document.getElementById("downloadLabel").addEventListener("click", async (e)=>{
  e.preventDefault();
  try {
    // Replace orderId with dynamic id in real integration
    const orderId = "HM-548729";
    const res = await fetch(`/api/shipping/label?order=${encodeURIComponent(orderId)}`);
    if(!res.ok) throw new Error("Label not ready");
    const blob = await res.blob();
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `${orderId}-label.pdf`;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  } catch(err){
    alert("Could not download label yet.");
    console.error(err);
  }
});
</script>
</body>
</html>
