<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Hemline Market</title>

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">

  <!-- Shared styles -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hm-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>

  <style>
    :root{
      --hm-accent:#991b1b;
      --hm-accent-soft:#fef3f2;
      --hm-border:#e5e7eb;
      --hm-muted:#6b7280;
      --hm-text:#111827;
      --hm-bg:#f4f4f7;
      --hm-eco:#246b4a;
      --hm-eco-soft:#e4f5ec;
      --hm-sand:#fffbf7;
      --hm-bg-card:rgba(255,255,255,.96);
    }

    html,body{
      margin:0;
      overflow-x:hidden;
      color:var(--hm-text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    /* background photo */
    body{
      background:
        url("images/homepage.jpeg") center/cover fixed no-repeat,
        var(--hm-bg);
    }

    main.hm-home{
      max-width:1200px;
      margin:18px auto 28px;
      padding:0 12px 24px;
    }

    .hero{
      background:rgba(255,255,255,.96);
      border-radius:18px;
      border:1px solid var(--hm-border);
      box-shadow:0 10px 30px rgba(15,23,42,.08);
      padding:16px;
      margin-bottom:16px;
    }

    .hero-header{
      display:flex;
      flex-wrap:wrap;
      justify-content:space-between;
      margin-bottom:10px;
    }

    .hero-slogan{
      font-size:22px;
      font-weight:800;
      margin:0;
    }

    /* SEARCH BAR */
    .hero-search-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
      padding:4px;
      border-radius:999px;
      border:1px solid #f3d6c9;
      background:var(--hm-accent-soft);
      box-shadow:0 3px 10px rgba(148,27,27,.05);
    }
    .hero-search-input-wrap{
      position:relative;
      flex:1;
      min-width:0;
    }
    .hero-search-icon{
      position:absolute;
      left:10px;
      top:50%;
      transform:translateY(-50%);
      color:var(--hm-muted);
    }
    .hero-search-input{
      width:100%;
      padding:9px 12px 9px 30px;
      border:none;
      border-radius:999px;
      background:transparent;
    }
    .hero-search-btn{
      padding:9px 16px;
      border-radius:999px;
      border:none;
      background:var(--hm-accent);
      color:#fff;
      font-weight:700;
      font-size:14px;
    }

    /* HOW IT WORKS ‚Äì now full width */
    .how-card{
      margin-top:14px;
      background:#fff7f3;
      border-radius:14px;
      border:1px solid #f2c9b4;
      padding:16px;
      box-shadow:0 6px 16px rgba(15,23,42,.03);
    }

    /* updated: SINGLE COLUMN since image removed */
    .how-inner{
      display:block;
    }

    .how-title{
      margin:0 0 8px;
      font-size:15px;
      font-weight:700;
      color:var(--hm-accent);
    }

    .how-card ul{
      margin:0;
      padding:0;
      list-style:none;
    }
    .how-card li{
      margin-bottom:4px;
      padding-left:18px;
      position:relative;
    }
    .how-card li::before{
      content:"‚úì";
      position:absolute;
      left:0;
      top:0;
      color:var(--hm-accent);
      font-size:11px;
    }

    /* ABOUT CARD */
    .about-card{
      margin-top:14px;
      background:var(--hm-sand);
      border-radius:14px;
      border:1px solid #f3e2c8;
      padding:16px;
      line-height:1.55;
      font-size:13px;
    }
    .about-title{
      font-size:15px;
      margin:0 0 8px;
      font-weight:700;
      color:var(--hm-accent);
    }
    .about-link{
      color:var(--hm-accent);
      font-weight:600;
      text-decoration:none;
    }

    .about-cta-row{
      margin-top:12px;
      padding-top:12px;
      border-top:1px solid #f3e2c8;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .about-cta-btn{
      padding:7px 14px;
      border-radius:999px;
      border:1px solid var(--hm-accent);
      color:var(--hm-accent);
      background:#fff;
      font-weight:600;
      text-decoration:none;
    }

    /* THREADTALK */
    .threadtalk-promo{
      margin-top:14px;
      padding:14px;
      border-radius:14px;
      border:1px solid rgba(153,27,27,.45);
      background:linear-gradient(120deg,#3b1010,#991b1b);
      color:#fef9f5;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .tt-promo-link{
      padding:10px 26px;
      border-radius:999px;
      background:#fef3c7;
      font-weight:700;
      color:#7f1d1d;
      text-decoration:none;
    }

    /* LISTINGS GRID (unchanged) */
    .section-header{display:flex;justify-content:space-between;margin:18px 0 10px;}
    .home-listings-grid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:12px;
    }
  </style>
</head>

<body>

  <div id="hm-shell-header"></div>

  <main class="hm-home" id="maincontent">

    <!-- HERO -->
    <section class="hero">

      <div class="hero-header">
        <div class="hero-slogan">
          Welcome to Hemline Market, where sewing meets sustainability.
        </div>
      </div>

      <!-- HOW IT WORKS ‚Äì full width, no image -->
      <div class="how-card">
        <div class="how-inner">
          <div class="how-text">
            <div class="how-title">How Hemline Market works</div>
            <ul>
              <li>Browse fabrics from independent sellers.</li>
              <li>List your own fabric.</li>
              <li>We send you prepaid labels and tracking numbers.</li>
              <li>Payments are processed securely through Stripe, so buyers and sellers are both protected.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- SEARCH -->
      <form id="homeSearchForm" class="hero-search-row">
        <div class="hero-search-input-wrap">
          <span class="hero-search-icon">üîç</span>
          <input id="homeSearchInput" class="hero-search-input" type="search" placeholder="Search fabrics‚Ä¶"/>
        </div>
        <button class="hero-search-btn" type="submit">Search</button>
      </form>

      <!-- ABOUT -->
      <div class="about-card">
        <div class="about-card-inner">
          <h2 class="about-title">About Hemline Market</h2>
          <p><strong>Hemline Market was created for sewists who care about slow fashion, sustainability, and sharing the fabrics we love.</strong></p>
          <p>
            Think of Hemline Market as similar to eBay or Poshmark, but for sewists, with prepaid shipping labels,
            secure Stripe payments, and purchase protection that helps everyone feel safe listing and buying fabric.
          </p>
          <p><a href="ThreadTalk.html" class="about-link">ThreadTalk</a>, our sewing forum, is a place to connect, share ideas, and grow together as makers.</p>

          <div class="about-cta-row">
            <span>Find your next fabric creation, or help someone else start theirs.</span>
            <a class="about-cta-btn" href="account.html">Create a free account</a>
          </div>
        </div>
      </div>

      <!-- THREADTALK -->
      <div class="threadtalk-promo">
        <div>
          <div style="font-size:11px;letter-spacing:.12em;">NEW ¬∑ COMMUNITY</div>
          <div style="font-size:16px;font-weight:700;">ThreadTalk: Hemline Market‚Äôs sewing forum</div>
          <p style="opacity:.95;">Ask for fabric advice, share works in progress, and get feedback from other sewists.</p>
        </div>
        <a class="tt-promo-link" href="ThreadTalk.html">Open ThreadTalk</a>
      </div>

    </section>

    <!-- LISTINGS -->
    <section>
      <div class="section-header">
        <h2>New Listings</h2>
        <span id="homeListingsCount">Loading‚Ä¶</span>
      </div>

      <div id="homeListingsGrid" class="home-listings-grid"></div>
      <div id="homeListingsEmpty" class="home-empty" style="display:none;">
        No listings yet.
      </div>
    </section>

  </main>

  <div id="hm-shell-footer"></div>

  <!-- Supabase + shell -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="scripts/hm-shell.js"></script>

  <script>
    window.HM && window.HM.renderShell({ currentPage: "home" });
  </script>

  <!-- Listings loader -->
  <script src="scripts/cart.js"></script>
  <script src="scripts/cart-hooks.js"></script>
  <script src="assets/add-to-cart.js" defer></script>

</body>
</html>
