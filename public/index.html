<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Hemline Market</title>

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16.png">

  <!-- Shared styles -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hm-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>

  <style>
    :root{
      /* Brand palette */
      --hm-accent:#991b1b;        /* Hemline Bordeaux */
      --hm-accent-soft:#fef3f2;   /* Soft blush */
      --hm-border:#e5e7eb;
      --hm-muted:#6b7280;
      --hm-text:#111827;
      --hm-bg:#f4f4f7;

      --hm-eco:#246b4a;
      --hm-sand:#fffbf7;
      --hm-bg-card:rgba(255,255,255,.96);
    }

    html,body{
      margin:0;
      max-width:100%;
      overflow-x:hidden;
      color:var(--hm-text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    /* background photo */
    body{
      background:
        url("images/homepage.jpeg") center/cover fixed no-repeat,
        var(--hm-bg);
    }

    main.hm-home{
      max-width:1200px;
      margin:18px auto 28px;
      padding:0 12px 24px;
    }

    /* HERO */
    .hero{
      background:rgba(255,255,255,.96);
      border-radius:18px;
      border:1px solid var(--hm-border);
      box-shadow:0 10px 30px rgba(15,23,42,.08);
      padding:16px;
      margin-bottom:16px;
    }

    .hero-header{
      display:flex;
      flex-wrap:wrap;
      align-items:flex-start;
      justify-content:space-between;
      gap:8px 12px;
      margin-bottom:10px;
    }

    .hero-slogan{
      font-size:26px;
      font-weight:800;
      color:#000;
      margin:0;
    }

    /* HOW IT WORKS CARD + IMAGE */
    .how-card{
      margin-top:14px;
      background:#fff7f3;
      border-radius:14px;
      border:1px solid #f2c9b4;
      padding:14px 16px;
      font-size:13px;
      color:#374151;
      box-shadow:0 6px 16px rgba(15,23,42,.03);
    }

    .how-inner{
      display:flex;
      align-items:stretch;
      gap:16px;
    }

    .how-text{
      flex:2;
      min-width:0;
    }

    .how-title{
      margin:0 0 8px;
      font-size:15px;
      font-weight:700;
      color:var(--hm-accent);
    }

    .how-card ul{
      margin:0;
      padding:0;
      list-style:none;
    }

    .how-card li{
      margin-bottom:4px;
      padding-left:18px;
      position:relative;
    }

    .how-card li::before{
      content:"‚úì";
      position:absolute;
      left:0;
      top:0;
      font-size:11px;
      color:var(--hm-accent);
    }

    /* UPDATED IMAGE STYLE ‚Äî smaller, wider, cropped */
    .how-image{
      flex:1.3;
      max-width:300px;
      border-radius:10px;
      overflow:hidden;
      background:#f3f4f6;
      box-shadow:0 4px 12px rgba(15,23,42,.08);
    }

    .how-image img{
      width:100%;
      height:170px;
      object-fit:cover;
      object-position:center;
    }

    @media(max-width:800px){
      .how-inner{
        flex-direction:column;
      }
      .how-image{
        max-width:100%;
      }
      .how-image img{
        height:200px;
      }
    }

    /* SEARCH BAR */
    .hero-search-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
      padding:4px;
      border-radius:999px;
      border:1px solid #f3d6c9;
      background:var(--hm-accent-soft);
      box-shadow:0 3px 10px rgba(148,27,27,.05);
    }

    .hero-search-input-wrap{
      position:relative;
      flex:1;
      min-width:0;
    }

    .hero-search-icon{
      position:absolute;
      left:10px;
      top:50%;
      transform:translateY(-50%);
      font-size:14px;
      color:var(--hm-muted);
      pointer-events:none;
    }

    .hero-search-input{
      width:100%;
      padding:9px 12px 9px 30px;
      border-radius:999px;
      border:none;
      font-size:14px;
      background:transparent;
      color:var(--hm-text);
    }

    .hero-search-btn{
      padding:9px 16px;
      border-radius:999px;
      border:none;
      background:var(--hm-accent);
      color:#fff;
      font-weight:700;
      font-size:14px;
      cursor:pointer;
      white-space:nowrap;
    }

    /* ABOUT CARD */
    .about-card{
      margin-top:14px;
      background:var(--hm-sand);
      border-radius:14px;
      border:1px solid #f3e2c8;
      padding:14px 16px 12px;
      font-size:13px;
      color:#374151;
      line-height:1.55;
    }

    .about-title{
      margin:0 0 8px;
      font-size:15px;
      font-weight:700;
      color:var(--hm-accent);
    }

    .about-cta-row{
      margin-top:10px;
      padding-top:10px;
      border-top:1px solid #f3e2c8;
      display:flex;
      gap:12px;
      font-size:13px;
      align-items:center;
    }

    .about-cta-btn{
      text-decoration:none;
      font-size:13px;
      font-weight:600;
      padding:7px 14px;
      border-radius:999px;
      border:1px solid var(--hm-accent);
      background:#fff;
      color:var(--hm-accent);
    }

    /* THREADTALK SECTION ‚Äî unchanged */
    .threadtalk-promo{
      margin-top:12px;
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(153,27,27,.45);
      background:linear-gradient(120deg,#3b1010,#991b1b);
      color:#fef9f5;
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
    }

    /* NEW LISTINGS SECTION ‚Äî unchanged */
    .home-listings-grid{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:12px;
    }

  </style>
</head>
<body>

<div id="hm-shell-header"></div>

<main class="hm-home">
  <section class="hero">

    <!-- SLOGAN -->
    <div class="hero-header">
      <div class="hero-slogan">
        Welcome to Hemline Market, where sewing meets sustainability.
      </div>
    </div>

    <!-- HOW IT WORKS -->
    <div class="how-card">
      <div class="how-inner">
        <div class="how-text">
          <div class="how-title">How Hemline Market works</div>
          <ul>
            <li>Browse fabrics from independent sellers.</li>
            <li>List your own fabric.</li>
            <li>We send you prepaid labels and tracking numbers.</li>
            <li>Payments are processed securely through Stripe, so buyers and sellers are both protected.</li>
          </ul>
        </div>

        <!-- UPDATED IMAGE -->
        <div class="how-image">
          <img src="images/fabric.jpg" alt="Stack of folded fabrics">
        </div>
      </div>
    </div>

    <!-- SEARCH BAR -->
    <form id="homeSearchForm" class="hero-search-row">
      <div class="hero-search-input-wrap">
        <span class="hero-search-icon">üîç</span>
        <input id="homeSearchInput" class="hero-search-input" type="search" placeholder="Search fabrics‚Ä¶">
      </div>
      <button class="hero-search-btn">Search</button>
    </form>

    <!-- ABOUT -->
    <div class="about-card">
      <h2 class="about-title">About Hemline Market</h2>

      <p><strong>Hemline Market was created for sewists who care about slow fashion, sustainability, and sharing the fabrics we love.</strong></p>

      <p>Think of Hemline Market as similar to eBay or Poshmark, but for sewists, with prepaid shipping labels, secure Stripe payments, and built-in purchase protection.</p>

      <p><a href="ThreadTalk.html" class="about-link">ThreadTalk</a> is our sewing forum where makers connect, share ideas, and grow together.</p>

      <p>We are just getting started ‚Äî more features are coming soon, and we truly value your <a href="contact.html" class="about-link">feedback</a>.</p>

      <p><strong>The first 300 verified sellers will lock in reduced selling fees for life.</strong></p>

      <div class="about-cta-row">
        <span>Find your next fabric creation, or help someone else start theirs.</span>
        <a class="about-cta-btn" href="account.html">Create a free account</a>
      </div>
    </div>

    <!-- THREADTALK -->
    <div class="threadtalk-promo">
      <div class="tt-promo-main">
        <div class="tt-promo-eyebrow">NEW ¬∑ COMMUNITY</div>
        <div class="tt-promo-title">ThreadTalk: Hemline Market‚Äôs sewing forum</div>
        <p class="tt-promo-sub">Ask for fabric advice, share works in progress, and get feedback from other sewists.</p>
      </div>
      <a class="tt-promo-link" href="ThreadTalk.html">Open ThreadTalk</a>
    </div>

  </section>

  <!-- NEW LISTINGS -->
  <section>
    <h2>New Listings</h2>
    <span id="homeListingsCount">Loading‚Ä¶</span>
    <div id="homeListingsGrid" class="home-listings-grid"></div>
    <div id="homeListingsEmpty" style="display:none;">No listings yet.</div>
  </section>

</main>

<div id="hm-shell-footer"></div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="scripts/hm-shell.js"></script>
<script>
  window.HM && window.HM.renderShell({ currentPage:"home" });
</script>

<script>
  /* LISTINGS JS unchanged ‚Äî using your original */
</script>

<script src="scripts/cart.js"></script>
<script src="scripts/cart-hooks.js"></script>
<script src="assets/add-to-cart.js" defer></script>

</body>
</html>
