<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>ThreadTalk â€” Hemline Market</title>

  <link rel="icon" href="/favicon.ico" type="image/x-icon"/>

  <!-- Shared site styles -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hm-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>
  <!-- ThreadTalk specific -->
  <link rel="stylesheet" href="styles/threadtalk.css"/>
</head>
<body class="tt-page">

  <div id="hm-shell-header"></div>

  <main class="tt-wrap" role="main">
    
    <!-- HERO with background image -->
    <section class="tt-hero">
      <div class="tt-hero-banner">
        <h1>ThreadTalk</h1>
        <p class="sub">Chat fabric, fit, and everything in between</p>
      </div>

      <!-- COMPOSER -->
      <form class="composer" id="composer">
        <div class="composer-row">
          <div class="composer-avatar">
            <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          </div>
          <div class="composer-input-wrap composer-title-row">
            <input type="text" class="composer-title" id="composeTitle" placeholder="Post title..." maxlength="120" />
            <div class="composer-category-inline">
              <select id="composeCategory">
                <option value="">Category</option>
                <option value="showcase">Showcase</option>
                <option value="tailoring">Tailoring</option>
                <option value="stitch-school">Stitch School</option>
                <option value="fabric-sos">Fabric SOS</option>
                <option value="before-after">Before & After</option>
                <option value="pattern-hacks">Pattern Hacks</option>
                <option value="stash-confessions">Stash Confessions</option>
                <option value="loose-threads">Loose Threads</option>
              </select>
            </div>
          </div>
        </div>
        <div class="composer-row">
          <div class="composer-avatar-spacer"></div>
          <div class="composer-input-wrap">
            <textarea class="composer-input" id="composeText" rows="1" placeholder="What's on your mind?"></textarea>
          </div>
        </div>
        <div class="composer-divider"></div>
        <div class="composer-actions">
          <div class="composer-tools">
            <label class="composer-tool photo">
              <svg viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
              <span>Photo</span>
              <input type="file" id="photoInput" accept="image/*" multiple>
            </label>
            <label class="composer-tool video">
              <svg viewBox="0 0 24 24"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></svg>
              <span>Video</span>
              <input type="file" id="videoInput" accept="video/*">
            </label>
          </div>
          <button type="submit" class="composer-submit" id="postBtn">Post</button>
        </div>
        <div id="mediaPreview" class="media-preview" hidden></div>
      </form>
    </section>

    <!-- SEARCH BAR -->
    <div class="tt-search">
      <input type="text" class="tt-search-input" id="threadSearch" placeholder="Search threads..." />
    </div>

    <!-- TOPICS - Polished pills -->
    <div class="topics">
      <a class="topic" href="threadtalk-category.html?c=showcase">Showcase</a>
      <a class="topic" href="threadtalk-category.html?c=tailoring">Tailoring</a>
      <a class="topic" href="threadtalk-category.html?c=stitch-school">Stitch School</a>
      <a class="topic" href="threadtalk-category.html?c=fabric-sos">Fabric SOS</a>
      <a class="topic" href="threadtalk-category.html?c=before-after">Before & After</a>
      <a class="topic" href="threadtalk-category.html?c=pattern-hacks">Pattern Hacks</a>
      <a class="topic" href="threadtalk-category.html?c=stash-confessions">Stash Confessions</a>
      <a class="topic" href="threadtalk-category.html?c=loose-threads">Loose Threads</a>
    </div>

    <!-- FEED -->
    <section class="feed" id="feed">
      <h2 class="feed-title">Latest Threads</h2>
      <div class="cards" id="cards"></div>
      <div id="emptyState" style="display:none">
        No threads yet. Be the first to post!
      </div>
    </section>
  </main>

  <div id="hm-shell-footer"></div>

  <div id="toast" class="toast">Posted</div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="scripts/hm-shell.js"></script>

  <script>
    window.HM && window.HM.renderShell({ currentPage: "threadtalk" });
  </script>

  <script src="scripts/threadtalk.js"></script>
</body>
</html>
