<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>ThreadTalk â€” Hemline Market</title>

  <link rel="icon" href="/favicon.ico" type="image/x-icon"/>

  <!-- Shared site styles -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hm-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>

  <style>
    :root{
      --hm-accent:#991b1b;
      --hm-text:#111827;
      --hm-muted:#65676b;
      --hm-border:#e4e6eb;
      --hm-bg:#f0f2f5;
      --hm-card:#ffffff;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      background:var(--hm-bg);
      color:var(--hm-text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      -webkit-font-smoothing:antialiased;
    }

    /* ============================================
       PAGE LAYOUT - Condensed
    ============================================ */
    .tt-wrap{
      max-width:590px;
      margin:0 auto;
      padding:12px;
    }

    /* ============================================
       HERO - Background image positioned at bottom
    ============================================ */
    .tt-hero{
      border-radius:8px;
      overflow:hidden;
      box-shadow:0 1px 2px rgba(0,0,0,0.1);
      margin-bottom:12px;
    }

    .tt-hero-banner{
      height:120px;
      background:
        linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.3) 100%),
        url('images/studio.jpeg') center 75%/cover no-repeat;
      display:flex;
      align-items:flex-end;
      padding:12px 16px;
    }

    .tt-hero-banner h1{
      font-size:22px;
      font-weight:700;
      color:#fff;
      margin:0;
      text-shadow:0 1px 3px rgba(0,0,0,0.3);
    }

    .tt-hero-banner .sub{
      font-size:13px;
      color:rgba(255,255,255,0.9);
      margin:2px 0 0;
      text-shadow:0 1px 2px rgba(0,0,0,0.3);
    }

    /* ============================================
       COMPOSER - Clean, simple, inviting
    ============================================ */
    .composer{
      background:var(--hm-card);
      padding:12px;
    }

    .composer-row{
      display:flex;
      gap:10px;
      align-items:flex-start;
    }

    .composer-avatar{
      width:40px;
      height:40px;
      border-radius:50%;
      background:#e4e6eb;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
    }

    .composer-avatar svg{
      width:24px;
      height:24px;
      fill:#65676b;
    }

    .composer-input-wrap{
      flex:1;
    }

    .composer-input{
      width:100%;
      border:none;
      border-radius:20px;
      padding:10px 14px;
      font-size:15px;
      background:#f0f2f5;
      color:var(--hm-text);
      resize:none;
      outline:none;
    }

    .composer-input:focus{
      background:#e4e6eb;
    }

    .composer-input::placeholder{
      color:var(--hm-muted);
    }

    .composer-divider{
      height:1px;
      background:#e4e6eb;
      margin:10px 0;
    }

    .composer-actions{
      display:flex;
      align-items:center;
      justify-content:space-between;
    }

    .composer-tools{
      display:flex;
      gap:4px;
    }

    .composer-tool{
      display:flex;
      align-items:center;
      gap:6px;
      padding:8px 12px;
      border-radius:8px;
      border:none;
      background:transparent;
      font-size:13px;
      font-weight:600;
      color:var(--hm-muted);
      cursor:pointer;
    }

    .composer-tool:hover{
      background:#f0f2f5;
    }

    .composer-tool svg{
      width:20px;
      height:20px;
    }

    .composer-tool.photo svg{fill:#45bd62}
    .composer-tool.video svg{fill:#f3425f}
    .composer-tool.category svg{fill:#f7b928}

    .composer-tool select{
      border:none;
      background:transparent;
      font:inherit;
      color:inherit;
      cursor:pointer;
      outline:none;
    }

    .composer-submit{
      padding:8px 16px;
      border-radius:6px;
      border:none;
      background:var(--hm-accent);
      color:#fff;
      font-size:14px;
      font-weight:600;
      cursor:pointer;
    }

    .composer-submit:hover{
      background:#7f1d1d;
    }

    .composer-submit:disabled{
      background:#e4e6eb;
      color:#bcc0c4;
      cursor:not-allowed;
    }

    /* Hidden file inputs */
    .composer input[type="file"]{display:none}

    /* ============================================
       TOPICS - Compact pills
    ============================================ */
    .topics{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:12px;
    }

    .topic{
      padding:6px 12px;
      background:var(--hm-card);
      border:1px solid var(--hm-border);
      border-radius:16px;
      font-size:13px;
      font-weight:500;
      color:var(--hm-text);
      text-decoration:none;
    }

    .topic:hover{
      background:#f0f2f5;
      border-color:#ccc;
    }

    /* ============================================
       FEED
    ============================================ */
    .feed-title{
      font-size:15px;
      font-weight:700;
      color:var(--hm-muted);
      margin:0 0 10px 4px;
      text-transform:uppercase;
      letter-spacing:0.5px;
    }

    .cards{
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    /* ============================================
       POST CARDS - Clean white boxes
    ============================================ */
    .card{
      background:var(--hm-card);
      border-radius:8px;
      box-shadow:0 1px 2px rgba(0,0,0,0.1);
      overflow:hidden;
    }

    .card-header{
      display:flex;
      align-items:flex-start;
      gap:10px;
      padding:12px 12px 0;
    }

    .card-avatar{
      width:36px;
      height:36px;
      border-radius:50%;
      background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
    }

    .card-avatar svg{
      width:20px;
      height:20px;
      fill:#fff;
    }

    .card-meta{
      flex:1;
      min-width:0;
    }

    .card-author{
      font-size:14px;
      font-weight:600;
      color:var(--hm-text);
      text-decoration:none;
    }

    .card-author:hover{
      text-decoration:underline;
    }

    .card-info{
      display:flex;
      align-items:center;
      gap:4px;
      font-size:12px;
      color:var(--hm-muted);
      margin-top:1px;
    }

    .card-info a{
      color:var(--hm-accent);
      text-decoration:none;
      font-weight:500;
    }

    .card-info a:hover{
      text-decoration:underline;
    }

    .card-menu{
      padding:4px;
      border:none;
      background:transparent;
      border-radius:50%;
      cursor:pointer;
      color:var(--hm-muted);
    }

    .card-menu:hover{
      background:#f0f2f5;
    }

    .card-title{
      font-size:14px;
      font-weight:600;
      color:var(--hm-text);
      margin:4px 0 0;
    }

    .card-body{
      padding:8px 12px 10px;
      font-size:14px;
      line-height:1.4;
      color:var(--hm-text);
    }

    .card-body a{
      color:var(--hm-accent);
    }

    .card-media img,
    .card-media video{
      width:100%;
      display:block;
    }

    /* Reactions summary */
    .card-reactions{
      display:flex;
      align-items:center;
      gap:4px;
      padding:6px 12px;
      font-size:13px;
      color:var(--hm-muted);
      border-bottom:1px solid var(--hm-border);
    }

    .reaction-emoji{
      font-size:16px;
    }

    /* Action bar - Like, Comment, Share */
    .card-actions{
      display:flex;
      padding:4px;
    }

    .card-action{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      padding:8px;
      border:none;
      background:transparent;
      border-radius:4px;
      font-size:14px;
      font-weight:600;
      color:var(--hm-muted);
      cursor:pointer;
    }

    .card-action:hover{
      background:#f0f2f5;
    }

    .card-action.active{
      color:var(--hm-accent);
    }

    .card-action svg{
      width:18px;
      height:18px;
      fill:currentColor;
    }

    /* Comments section */
    .card-comments{
      padding:0 12px 8px;
      border-top:1px solid var(--hm-border);
    }

    .view-comments{
      display:block;
      padding:8px 0;
      font-size:13px;
      font-weight:600;
      color:var(--hm-muted);
      background:none;
      border:none;
      cursor:pointer;
    }

    .view-comments:hover{
      text-decoration:underline;
    }

    /* Comment input */
    .comment-input-row{
      display:flex;
      align-items:center;
      gap:8px;
      padding:8px 0;
    }

    .comment-avatar{
      width:28px;
      height:28px;
      border-radius:50%;
      background:#e4e6eb;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink:0;
    }

    .comment-avatar svg{
      width:16px;
      height:16px;
      fill:#65676b;
    }

    .comment-input{
      flex:1;
      padding:8px 12px;
      border:none;
      border-radius:18px;
      background:#f0f2f5;
      font-size:14px;
      outline:none;
    }

    .comment-input:focus{
      background:#e4e6eb;
    }

    .comment-input::placeholder{
      color:var(--hm-muted);
    }

    .comment-send{
      padding:6px 12px;
      border:none;
      border-radius:16px;
      background:var(--hm-accent);
      color:#fff;
      font-size:13px;
      font-weight:600;
      cursor:pointer;
    }

    .comment-send:hover{
      background:#7f1d1d;
    }

    /* Individual comment */
    .comment{
      display:flex;
      gap:8px;
      padding:6px 0;
    }

    .comment-bubble{
      background:#f0f2f5;
      border-radius:18px;
      padding:8px 12px;
      max-width:85%;
    }

    .comment-author{
      font-size:13px;
      font-weight:600;
      color:var(--hm-text);
    }

    .comment-text{
      font-size:14px;
      color:var(--hm-text);
      margin-top:2px;
    }

    .comment-meta{
      display:flex;
      gap:12px;
      padding:2px 12px;
      font-size:11px;
      color:var(--hm-muted);
    }

    .comment-meta button{
      background:none;
      border:none;
      font-size:11px;
      font-weight:600;
      color:var(--hm-muted);
      cursor:pointer;
    }

    .comment-meta button:hover{
      text-decoration:underline;
    }

    /* Empty state */
    #emptyState{
      text-align:center;
      padding:32px 16px;
      background:var(--hm-card);
      border-radius:8px;
      color:var(--hm-muted);
    }

    /* Toast */
    .toast{
      position:fixed;
      left:50%;
      bottom:20px;
      transform:translateX(-50%);
      background:#1c1e21;
      color:#fff;
      padding:10px 16px;
      border-radius:8px;
      font-size:14px;
      opacity:0;
      pointer-events:none;
      transition:opacity 0.2s;
      z-index:200;
    }
    .toast.show{opacity:1}

    .sr-only{
      position:absolute!important;
      width:1px;height:1px;
      padding:0;margin:-1px;
      overflow:hidden;
      clip:rect(0,0,0,0);
      border:0;
    }

    /* Mobile */
    @media(max-width:640px){
      .tt-wrap{padding:8px}
      .tt-hero-banner{height:100px}
      .tt-hero-banner h1{font-size:18px}
      .composer-tool span{display:none}
      .topics{gap:4px}
      .topic{padding:5px 10px;font-size:12px}
    }
  </style>
</head>
<body>

  <div id="hm-shell-header"></div>

  <main class="tt-wrap" role="main">
    
    <!-- HERO with background image -->
    <section class="tt-hero">
      <div class="tt-hero-banner">
        <div>
          <h1>ThreadTalk</h1>
          <p class="sub">Chat fabric, fit, and everything in between</p>
        </div>
      </div>

      <!-- COMPOSER -->
      <form class="composer" id="composer">
        <div class="composer-row">
          <div class="composer-avatar">
            <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          </div>
          <div class="composer-input-wrap">
            <textarea class="composer-input" id="composeText" rows="1" placeholder="What's on your mind?"></textarea>
          </div>
        </div>
        <div class="composer-divider"></div>
        <div class="composer-actions">
          <div class="composer-tools">
            <label class="composer-tool photo">
              <svg viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
              <span>Photo</span>
              <input type="file" id="photoInput" accept="image/*">
            </label>
            <label class="composer-tool video">
              <svg viewBox="0 0 24 24"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></svg>
              <span>Video</span>
              <input type="file" id="videoInput" accept="video/*">
            </label>
            <div class="composer-tool category">
              <svg viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>
              <select id="composeCategory">
                <option value="">Category</option>
                <option value="showcase">Showcase</option>
                <option value="tailoring">Tailoring</option>
                <option value="stitch-school">Stitch School</option>
                <option value="fabric-sos">Fabric SOS</option>
                <option value="before-after">Before & After</option>
                <option value="pattern-hacks">Pattern Hacks</option>
                <option value="stash-confessions">Stash Confessions</option>
                <option value="loose-threads">Loose Threads</option>
              </select>
            </div>
          </div>
          <button type="submit" class="composer-submit" id="postBtn">Post</button>
        </div>
      </form>
    </section>

    <!-- TOPICS -->
    <div class="topics">
      <a class="topic" href="showcase.html">Showcase</a>
      <a class="topic" href="tailoring.html">Tailoring</a>
      <a class="topic" href="stitch-school.html">Stitch School</a>
      <a class="topic" href="fabric-sos.html">Fabric SOS</a>
      <a class="topic" href="before-after.html">Before & After</a>
      <a class="topic" href="pattern-hacks.html">Pattern Hacks</a>
      <a class="topic" href="stash-confessions.html">Stash Confessions</a>
      <a class="topic" href="loose-threads.html">Loose Threads</a>
    </div>

    <!-- FEED -->
    <section class="feed" id="feed">
      <h2 class="feed-title">Latest Threads</h2>
      <div class="cards" id="cards"></div>
      <div id="emptyState" style="display:none">
        No threads yet. Be the first to post!
      </div>
    </section>
  </main>

  <div id="hm-shell-footer"></div>

  <div id="toast" class="toast">Posted</div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="scripts/hm-shell.js"></script>

  <script>
    window.HM && window.HM.renderShell({ currentPage: "threadtalk" });
  </script>

  <script src="scripts/threadtalk.js"></script>
</body>
</html>
