<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>ThreadTalk — Hemline Market</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="ThreadTalk is Hemline Market's sewing community forum. Chat fabric, share projects, get advice, and connect with fellow makers."/>
  <meta name="keywords" content="sewing forum, fabric community, sewing advice, ThreadTalk, Hemline Market, sewists, makers, tailoring, pattern hacks"/>
  <meta name="author" content="Hemline Market"/>
  <meta name="robots" content="index, follow"/>
  <link rel="canonical" href="https://hemlinemarket.com/ThreadTalk.html"/>

  <!-- Open Graph / Social Sharing (Facebook, LinkedIn, etc.) -->
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://hemlinemarket.com/ThreadTalk.html"/>
  <meta property="og:title" content="ThreadTalk — Hemline Market's Sewing Forum"/>
  <meta property="og:description" content="Chat fabric, fit, and everything in between. Join the sewing community on ThreadTalk."/>
  <meta property="og:image" content="https://hemlinemarket.com/images/og-image-threadtalk.png"/>
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="ThreadTalk — Hemline Market's Sewing Forum"/>
  <meta name="twitter:description" content="Chat fabric, fit, and everything in between. Join the sewing community."/>
  <meta name="twitter:image" content="https://hemlinemarket.com/images/og-image-threadtalk.png"/>

  <!-- Theme Color -->
  <meta name="theme-color" content="#991b1b"/>

  <link rel="icon" href="/favicon.ico" type="image/x-icon"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
  <link rel="apple-touch-icon" href="/images/icon.png">

  <!-- Shared site styles -->
  <link rel="stylesheet" href="styles/hm-modern.css"/>
  <link rel="stylesheet" href="styles/hm-header.css"/>
  <link rel="stylesheet" href="styles/hm-typography.css"/>
  <link rel="stylesheet" href="styles/hm-footer.css"/>
  <link rel="stylesheet" href="styles/hm-badges.css"/>
  <!-- ThreadTalk specific -->
  <link rel="stylesheet" href="styles/threadtalk.css"/>

  <style>
    /* Override: remove the gap between composer and topics */
    .tt-hero {
      margin-bottom: 12px;
    }
    .composer {
      padding-bottom: 8px;
    }
    .composer-actions {
      margin-bottom: 0;
    }
    .media-preview:empty,
    .media-preview[hidden] {
      display: none;
      padding: 0;
      margin: 0;
    }
    
    /* Empty State */
    .tt-empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: 48px 24px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      border: 1px solid #e5e7eb;
      margin-top: 16px;
    }
    .tt-empty-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }
    .tt-empty-title {
      margin: 0 0 8px;
      font-size: 20px;
      font-weight: 700;
      color: #111827;
    }
    .tt-empty-text {
      margin: 0;
      font-size: 14px;
      color: #6b7280;
      max-width: 320px;
      line-height: 1.5;
    }
  </style>
</head>
<body class="tt-page">

  <div id="hm-shell-header"></div>

  <main class="tt-wrap" role="main">
    
    <!-- HERO with background image -->
    <section class="tt-hero">
      <div class="tt-hero-banner">
        <h1>ThreadTalk</h1>
        <p class="sub">Chat fabric, fit, and everything in between</p>
      </div>

      <!-- COMPOSER -->
      <form class="composer" id="composer">
        <div class="composer-row">
          <div class="composer-avatar">
            <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
          </div>
          <div class="composer-input-wrap composer-title-row">
            <div class="composer-category-inline">
              <select id="composeCategory">
                <option value="">Category</option>
                <option value="showcase">Showcase</option>
                <option value="cosplay">Cosplay</option>
                <option value="stitch-school">Stitch School</option>
                <option value="fabric-sos">Fabric SOS</option>
                <option value="before-after">Before & After</option>
                <option value="pattern-hacks">Pattern Hacks</option>
                <option value="tailoring">Tailoring</option>
                <option value="loose-threads">Loose Threads</option>
              </select>
            </div>
            <input type="text" class="composer-title" id="composeTitle" placeholder="Add Title" maxlength="120" />
          </div>
        </div>
        <div class="composer-body-row">
          <textarea class="composer-input" id="composeText" rows="3" placeholder="Share your project, ask for fabric advice, show off your latest make, or start a discussion..."></textarea>
        </div>
        <div class="composer-divider"></div>
        <div class="composer-actions">
          <div class="composer-tools">
            <label class="composer-tool photo">
              <svg viewBox="0 0 24 24"><path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/></svg>
              <span>Photo</span>
              <input type="file" id="photoInput" accept="image/*" multiple>
            </label>
            <label class="composer-tool video">
              <svg viewBox="0 0 24 24"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></svg>
              <span>Video</span>
              <input type="file" id="videoInput" accept="video/*">
            </label>
          </div>
          <button type="submit" class="composer-submit" id="postBtn">Post</button>
        </div>
        <div id="mediaPreview" class="media-preview" hidden></div>
      </form>
    </section>

    <!-- SEARCH BAR -->
    <div class="tt-search">
      <input type="text" class="tt-search-input" id="threadSearch" placeholder="Search posts and topics..." />
    </div>

    <!-- TOPICS - Polished pills -->
    <div class="topics">
      <a class="topic" href="showcase.html">Showcase</a>
      <a class="topic" href="cosplay.html">Cosplay</a>
      <a class="topic" href="stitch-school.html">Stitch School</a>
      <a class="topic" href="fabric-sos.html">Fabric SOS</a>
      <a class="topic" href="before-after.html">Before &amp; After</a>
      <a class="topic" href="pattern-hacks.html">Pattern Hacks</a>
      <a class="topic" href="tailoring.html">Tailoring</a>
      <a class="topic" href="loose-threads.html">Loose Threads</a>
    </div>

    <!-- FEED -->
    <section class="feed" id="feed">
      <h2 class="feed-title">Latest Threads</h2>
      <div class="cards" id="cards"></div>
      <div id="emptyState" class="tt-empty-state" style="display:none">
        <div class="tt-empty-icon">✨</div>
        <h3 class="tt-empty-title">Start the conversation</h3>
        <p class="tt-empty-text">No threads yet. Be the first to share your project, ask a question, or start a discussion!</p>
      </div>
    </section>
  </main>

  <div id="hm-shell-footer"></div>

  <div id="toast" class="toast">Posted</div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="scripts/hm-shell.js"></script>

  <script>
    window.HM && window.HM.renderShell({ currentPage: "threadtalk" });
  </script>

  <script src="scripts/threadtalk.js"></script>

  <!-- Floating Share Button -->
  <style>
    #shareFab {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: #991b1b;
      color: #fff;
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 14px rgba(153, 27, 27, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 999;
      transition: background 0.2s;
    }
    #shareFab svg {
      width: 24px;
      height: 24px;
      stroke: currentColor;
      stroke-width: 2;
      fill: none;
    }
  </style>
  <button id="shareFab" aria-label="Share ThreadTalk">
    <svg viewBox="0 0 24 24">
      <circle cx="18" cy="5" r="3"></circle>
      <circle cx="6" cy="12" r="3"></circle>
      <circle cx="18" cy="19" r="3"></circle>
      <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
      <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
    </svg>
  </button>

  <script>
    // Share functionality - just copy link
    document.getElementById('shareFab').addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText('https://hemlinemarket.com/ThreadTalk.html');
        
        // Show "Copied!" feedback
        const fab = document.getElementById('shareFab');
        const originalHTML = fab.innerHTML;
        fab.innerHTML = '<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg>';
        fab.style.background = '#16a34a';
        
        setTimeout(() => {
          fab.innerHTML = originalHTML;
          fab.style.background = '#991b1b';
        }, 1500);
      } catch (err) {
        console.log('Copy failed:', err);
      }
    });
  </script>
</body>
</html>
